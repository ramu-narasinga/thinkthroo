---
title: kodiak.toml in tRPC source code
toc: true
---

In this article, we analyze [kodiak.t](https://kodiakhq.com/)oml found in [tRPC source](https://github.com/trpc/trpc/blob/next/.kodiak.toml) code.

# **Kodiak**

Automate your GitHub Pull Requests using Kodiak

1. Auto Update ‚Äî Keep your PRs up to date with master automatically
    
2. Auto Merge ‚Äî Add the automerge label to auto merge once CI and Approvals pass.
    
3. Bot Collaboration ‚Äî Combine Kodiak with a dependency bot (dependabot, snyk, greenskeeper.io) to automate updating of dependencies
    

When you visit kodiak‚Äôs website, you will find that Kodiak is a tool that  
automates Github pull requests.

Check out its [quick start guide](https://kodiakhq.com/docs/quickstart).

# **kodiak.yaml in trpc repository:**

The below code snippet is picked from [.kodiak.toml](https://github.com/trpc/trpc/blob/next/.kodiak.toml)

```plaintext
# .kodiak.toml
version = 1
[approve]
auto_approve_usernames = ["dependabot", "renovate"]
[merge]
method = "squash"
automerge_label = ["üöÄ merge", "‚¨ÜÔ∏è dependencies"]
[merge.automerge_dependencies]
# only auto merge "minor" and "patch" version upgrades.
versions = ["minor", "patch"]
usernames = ["dependabot", "renovate"]
[update]
autoupdate_label = "‚ôªÔ∏è autoupdate"
```

Let‚Äôs now refer to the documentation based on this configuration file. The first option is [approve](https://kodiakhq.com/docs/config-reference#approveauto_approve_usernames). If a PR is opened by a user with a username in the approve.auto\_approve\_usernames list, Kodiak will automatically add an approval to the PR. Read more about [approve](https://kodiakhq.com/docs/config-reference#approveauto_approve_usernames).

Next option in above file is merge. It has two variables set, `method` and `automerge_label`. Label your pull request with the kodiak: merge.method = ‚Äòrebase‚Äô label, for example, to set merge.method to ‚Äúrebase‚Äù for your pull request. Read more about [merge](https://kodiakhq.com/docs/config-reference#mergemethod-1). [automerge\_label](https://kodiakhq.com/docs/config-reference#mergeautomerge_label) is a label to enable Kodiak to merge a PR. Kodiak can only merge pull requests passing your GitHub branch protection rules.If multiple labels are specified in an array, any of the specified labels will trigger merge.

```plaintext
[merge.automerge_dependencies]
# only auto merge "minor" and "patch" version upgrades.
versions = ["minor", "patch"]
usernames = ["dependabot", "renovate"]
```

Kodiak will only automerge dependency upgrades for pull request authors in this list. Check out [automerge\_dependenciesusernames](https://kodiakhq.com/docs/config-reference#mergeautomerge_dependenciesusernames).

```plaintext
[update]
autoupdate_label = "‚ôªÔ∏è autoupdate"
```

Pull requests with the update.autoupdate\_label will be updated when they are out-of-date with their base branch.

Checkout [Configuration Reference](https://kodiakhq.com/docs/config-reference) for a comprehensive list of  
configuration options.

# **About me:**

Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.

I am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com

My Github ‚Äî [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)

My website ‚Äî [https://ramunarasinga.com](https://ramunarasinga.com/)

My Youtube channel ‚Äî [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)

Learning platform ‚Äî [https://thinkthroo.com](https://thinkthroo.com/)

Codebase Architecture ‚Äî [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)

Best practices ‚Äî [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)

Production-grade projects ‚Äî [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)

# **References:**

1\. https://kodiakhq.com/  
2\. https://github.com/trpc/trpc/blob/next/.kodiak.toml
