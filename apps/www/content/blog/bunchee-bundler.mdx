---
title: Bunchee, a bundler for JS/TS package
toc: true
---

I found that [Bunchee](https://www.npmjs.com/package/bunchee) is used in [t3-env](https://github.com/t3-oss/t3-env/blob/main/packages/core/package.json#L40) to bundle their [core](https://github.com/t3-oss/t3-env/blob/main/packages/core/package.json#L40), [nextjs](https://github.com/t3-oss/t3-env/blob/main/packages/nextjs/package.json), [nuxt](https://github.com/t3-oss/t3-env/blob/main/packages/nuxt/package.json) packages.

![](https://cdn-images-1.medium.com/max/1600/1*zmEZ0GNa4gedmN0qpsdvhg.png)

### Bunchee

Bunchee is a zero configuration bundler makes bundling JS/TS library effortless. It’s built on top of Rollup and SWC, allowing you to focus on writing code and generating multiple bundles (CommonJS or ESModule) at the same time. 

It uses the standard exports configuration in package.json as the only source of truth, and uses entry file conventions   
to match your exports and build them into bundles.

#### Quick start

1. [Install Bunchee](https://www.npmjs.com/package/bunchee#quick-start) in a TS project
    

Install bunchee using the below command:

```plaintext
npm install - save-dev bunchee typescript
```

2\. [Configuration](https://www.npmjs.com/package/bunchee#configuration)  
You can use Bunchee to configure the package.json automatically using the below command:

```plaintext
# Use bunchee to prepare package.json configuration
npm exec bunchee - prepare
```

Or you can configure the package.json manually. The below configuration is an example picked from documentation.

```plaintext
{
 "files": ["dist"],
 "exports": {
 "import": {
 "types": "./dist/es/index.d.mts",
 "default": "./dist/es/index.mjs"
 },
 "require": {
 "types": "./dist/cjs/index.d.ts",
 "default": "./dist/cjs/index.js"
 }
 },
 "scripts": {
 "build": "bunchee"
 }
}
```

3\. Build

In the configuration step above, we have defined the `build` script. You just have to execute this script — `npm run build`, index.ts become the entry point for the bundler and generates the output based on the `exports` object.

For example: src/index.ts will match the exports name “.” or the only main export.

### Exports in core/package.json

This below code is picked from [t3-env/packages/core/package.json](https://github.com/t3-oss/t3-env/blob/main/packages/core/package.json#L13C3-L23C5).

```plaintext
"exports": {
 "./package.json": "./package.json",
 ".": {
 "types": "./dist/index.d.ts",
 "default": "./dist/index.js"
 },
 "./presets": {
 "types": "./dist/presets.d.ts",
 "default": "./dist/presets.js"
 }
},
```

### Exports in nextjs/package.json

This below code is picked from [t3-env/packages/nextjs/package.json](https://github.com/t3-oss/t3-env/blob/main/packages/nextjs/package.json#L13-L23)

```plaintext
"exports": {
 "./package.json": "./package.json",
 ".": {
 "types": "./dist/index.d.ts",
 "default": "./dist/index.js"
 },
 "./presets": {
 "types": "./dist/presets.d.ts",
 "default": "./dist/presets.js"
 }
},
```

### Exports in nuxt/package.json

This below code is picked from [t3-env/packages/nuxt/package.json](https://github.com/t3-oss/t3-env/blob/main/packages/nuxt/package.json)

```plaintext
"exports": {
 "./package.json": "./package.json",
 ".": {
 "types": "./dist/index.d.ts",
 "default": "./dist/index.js"
 },
 "./presets": {
 "types": "./dist/presets.d.ts",
 "default": "./dist/presets.js"
 }
},
```

### About us:

At [Thinkthroo](https://thinkthroo.com/), we study large open source projects and [provide architectural guides](https://app.thinkthroo.com/architecture). We have developed reusable [Components, built with tailwind, that you can use in your project](https://thinkthroo.com/components). We offer [Next.js, React and Node development services.](https://thinkthroo.com/components)

[Book a meeting](https://cal.com/team-thinkthroo-dxiovj/consultation?date=2024-10-19&month=2024-10) with us to discuss your project.

![](https://cdn-images-1.medium.com/max/1600/0*gAWxj3yJJLJ9aNbS.png)

### Reference:

1. [https://www.npmjs.com/package/bunchee](https://www.npmjs.com/package/bunchee)
    
2. [https://github.com/t3-oss/t3-env/blob/main/packages/core/package.json#L40](https://github.com/t3-oss/t3-env/blob/main/packages/core/package.json#L40)