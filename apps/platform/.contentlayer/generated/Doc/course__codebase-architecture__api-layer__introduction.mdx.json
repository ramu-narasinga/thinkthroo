{
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "[Architecture: API Layer in LobeChat]\n[C: Introduction]\n\nIn this guide, you will learn the API layer used in [Lobe Chat](https://github.com/lobehub/lobe-chat/tree/main). \n\nðŸ¤¯ Lobe Chat is an open-source, modern-design AI chat framework. Supports \n  Multi AI Providers( OpenAI / Claude 3 / Gemini / Ollama / Azure / DeepSeek), \nKnowledge Base (file upload / knowledge management / RAG ), Multi-Modals (Vision/TTS) and plugin system. \n  One-click FREE deployment of your private ChatGPT/ Claude application. \n\n# What's API Layer?\nIn the context of web applications, API layer means communicating with your server to get/mutate data.\nInspired by [Bulletproof React's API Layer](https://github.com/alan2207/bulletproof-react/blob/master/docs/api-layer.md)\nWe analyze the API Layer in the [Lobechat](https://github.com/lobehub/lobe-chat/tree/main). \n\n# Lobe Chat API Layer\nTo study the API Layer, we pick a page on https://chat-preview.lobehub.com/ and look at the source code except we are\nnarrowing down our expedition to focus on the API Layer.\n\n# Concepts you will learn:\nYou will be learning the API layer used in the Lobe Chat. \nRead through this guide to understand how Lobe Chat's API layer works.\n\n## Data fetched in Discover Home Page\n1. [Discover Home Page]\n(https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/page.tsx)\n2. [DiscoverService](https://github.com/lobehub/lobe-chat/blob/main/src/server/services/discover/index.ts#L27)\n\n## Data fetched in Chat Page\n1. [Session List](https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/chat/%40session/features/SessionListContent/DefaultMode.tsx#L29)\n2. [useFetchSessions](https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L200)\n3. [useClientDataSWR](https://github.com/lobehub/lobe-chat/blob/main/src/libs/swr/index.ts#L22C14-L22C30)\n\n# References:\nAPI layer example 1:\n1. https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/page.tsx\n2. https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/Client.tsx\n3. https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/features/AssistantList.tsx\n4. https://github.com/lobehub/lobe-chat/blob/main/src/server/services/discover/index.ts#L28\n5. https://github.com/lobehub/lobe-chat/blob/main/src/server/modules/AssistantStore/index.ts\n\nAPI layer example 2:\n1. https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/chat/%40session/features/SessionListContent/DefaultMode.tsx\n2. https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L200\n3. https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L11",
    "code": "var Component=(()=>{var d=Object.create;var s=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var f=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),L=(i,e)=>{for(var n in e)s(i,n,{get:e[n],enumerable:!0})},a=(i,e,n,h)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of m(e))!g.call(i,o)&&o!==n&&s(i,o,{get:()=>e[o],enumerable:!(h=u(e,o))||h.enumerable});return i};var x=(i,e,n)=>(n=i!=null?d(p(i)):{},a(e||!i||!i.__esModule?s(n,\"default\",{value:i,enumerable:!0}):n,i)),v=i=>a(s({},\"__esModule\",{value:!0}),i);var r=f((w,l)=>{l.exports=_jsx_runtime});var A={};L(A,{default:()=>b,frontmatter:()=>y});var t=x(r()),y=void 0;function c(i){let e={a:\"a\",h1:\"h1\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",...i.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:`[Architecture: API Layer in LobeChat]\n[C: Introduction]`}),`\n`,(0,t.jsxs)(e.p,{children:[\"In this guide, you will learn the API layer used in \",(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/tree/main\",children:\"Lobe Chat\"}),\".\"]}),`\n`,(0,t.jsx)(e.p,{children:`\\u{1F92F} Lobe Chat is an open-source, modern-design AI chat framework. Supports\nMulti AI Providers( OpenAI / Claude 3 / Gemini / Ollama / Azure / DeepSeek),\nKnowledge Base (file upload / knowledge management / RAG ), Multi-Modals (Vision/TTS) and plugin system.\nOne-click FREE deployment of your private ChatGPT/ Claude application.`}),`\n`,(0,t.jsx)(e.h1,{id:\"whats-api-layer\",children:\"What's API Layer?\"}),`\n`,(0,t.jsxs)(e.p,{children:[`In the context of web applications, API layer means communicating with your server to get/mutate data.\nInspired by `,(0,t.jsx)(e.a,{href:\"https://github.com/alan2207/bulletproof-react/blob/master/docs/api-layer.md\",children:\"Bulletproof React's API Layer\"}),`\nWe analyze the API Layer in the `,(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/tree/main\",children:\"Lobechat\"}),\".\"]}),`\n`,(0,t.jsx)(e.h1,{id:\"lobe-chat-api-layer\",children:\"Lobe Chat API Layer\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"To study the API Layer, we pick a page on \",(0,t.jsx)(e.a,{href:\"https://chat-preview.lobehub.com/\",children:\"https://chat-preview.lobehub.com/\"}),` and look at the source code except we are\nnarrowing down our expedition to focus on the API Layer.`]}),`\n`,(0,t.jsx)(e.h1,{id:\"concepts-you-will-learn\",children:\"Concepts you will learn:\"}),`\n`,(0,t.jsx)(e.p,{children:`You will be learning the API layer used in the Lobe Chat.\nRead through this guide to understand how Lobe Chat's API layer works.`}),`\n`,(0,t.jsx)(e.h2,{id:\"data-fetched-in-discover-home-page\",children:\"Data fetched in Discover Home Page\"}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsxs)(e.li,{children:[`[Discover Home Page]\n(`,(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/page.tsx\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/page.tsx\"}),\")\"]}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/server/services/discover/index.ts#L27\",children:\"DiscoverService\"})}),`\n`]}),`\n`,(0,t.jsx)(e.h2,{id:\"data-fetched-in-chat-page\",children:\"Data fetched in Chat Page\"}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/chat/%40session/features/SessionListContent/DefaultMode.tsx#L29\",children:\"Session List\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L200\",children:\"useFetchSessions\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/libs/swr/index.ts#L22C14-L22C30\",children:\"useClientDataSWR\"})}),`\n`]}),`\n`,(0,t.jsx)(e.h1,{id:\"references\",children:\"References:\"}),`\n`,(0,t.jsx)(e.p,{children:\"API layer example 1:\"}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/page.tsx\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/page.tsx\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/Client.tsx\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/Client.tsx\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/features/AssistantList.tsx\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/discover/(list)/(home)/features/AssistantList.tsx\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/server/services/discover/index.ts#L28\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/server/services/discover/index.ts#L28\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/server/modules/AssistantStore/index.ts\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/server/modules/AssistantStore/index.ts\"})}),`\n`]}),`\n`,(0,t.jsx)(e.p,{children:\"API layer example 2:\"}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/chat/%40session/features/SessionListContent/DefaultMode.tsx\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/app/(main)/chat/%40session/features/SessionListContent/DefaultMode.tsx\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L200\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L200\"})}),`\n`,(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L11\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/store/session/slices/session/action.ts#L11\"})}),`\n`]})]})}function b(i={}){let{wrapper:e}=i.components||{};return e?(0,t.jsx)(e,{...i,children:(0,t.jsx)(c,{...i})}):c(i)}return v(A);})();\n;return Component;"
  },
  "_id": "course/codebase-architecture/api-layer/introduction.mdx",
  "_raw": {
    "sourceFilePath": "course/codebase-architecture/api-layer/introduction.mdx",
    "sourceFileName": "introduction.mdx",
    "sourceFileDir": "course/codebase-architecture/api-layer",
    "contentType": "mdx",
    "flattenedPath": "course/codebase-architecture/api-layer/introduction"
  },
  "type": "Doc",
  "slug": "/course/codebase-architecture/api-layer/introduction",
  "slugAsParams": "codebase-architecture/api-layer/introduction"
}