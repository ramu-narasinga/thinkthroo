{
  "title": "Usage of Dexie, an IndexedDB wrapper, in Lobechat\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nIn this article, we analyze [Dexie](https://dexie.org/) usage in [Lobechat](https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts).\r\n\r\nIf you check \\[database folder in [lobechat](https://github.com/lobehub/lobe-chat/tree/main/src/database), it has 2 folders:\r\n\r\n1. client\r\n    \r\n2. server\r\n    \r\n\r\nIn this [Lobechat’s self-host docs](https://lobehub.com/docs/self-hosting/server-database), it is mentioned that LobeChat  \r\ndefaults to using a client-side database (IndexedDB). That is why you have two folders, one for client and one for server.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*auzPtXHE1jG8EtFtUwBhrw.png align=\"left\")\r\n\r\n[database/client/core/db.ts](https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts) imports [Dexie](https://dexie.org/).\r\n\r\nDexie is a minimalistic wrapper for indexedDB. Let’s look at a simple dexie example provided in the [Getting Started tutorial](https://dexie.org/docs/Tutorial/React).\r\n\r\n```javascript\r\n// db.ts\r\nimport Dexie, { type EntityTable } from 'dexie';\r\ninterface Friend {\r\n id: number;\r\n name: string;\r\n age: number;\r\n}\r\nconst db = new Dexie('FriendsDatabase') as Dexie & {\r\n friends: EntityTable<\r\n Friend,\r\n 'id' // primary key \"id\" (for the typings only)\r\n >;\r\n};\r\n// Schema declaration:\r\ndb.version(1).stores({\r\n friends: '++id, name, age' // primary key \"id\" (for the runtime!)\r\n});\r\nexport type { Friend };\r\nexport { db };\r\n```\r\n\r\n## **Important note:**\r\n\r\nApplications typically have one single Dexie instance declared as its own module. This is where you declare which tables you need and how each table shall be indexed. A Dexie instance is a singleton throughout the  \r\napplication — you do not need to create it on demand. Export the resulting db instance from your module so that components or other modules can use it to query or write to the database.\r\n\r\nUsing this line shown below, Lobechat creates a singleton instance of BrowserDB.\r\n\r\n```javascript\r\nexport class BrowserDB extends Dexie {\r\n public files: BrowserDBTable<'files'>;\r\n public sessions: BrowserDBTable<'sessions'>;\r\n public messages: BrowserDBTable<'messages'>;\r\n public topics: BrowserDBTable<'topics'>;\r\n public plugins: BrowserDBTable<'plugins'>;\r\n public sessionGroups: BrowserDBTable<'sessionGroups'>;\r\n public users: BrowserDBTable<'users'>;\r\nconstructor() {\r\n this.version(1).stores(dbSchemaV1);\r\n this.version(2).stores(dbSchemaV2);\r\n this.version(3).stores(dbSchemaV3);\r\n this.version(4)\r\n .stores(dbSchemaV4)\r\n .upgrade((trans) => this.upgradeToV4(trans));\r\n // … more code\r\nexport const browserDB = new BrowserDB();\r\n```\r\n\r\nversions written in constructor show how the client side database schema evolved over the time, Read more about [Dexie.version()](https://dexie.org/docs/Dexie/Dexie.version\\(\\)) to understand the versions.\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\nI am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1. [https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts](https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts)\r\n    \r\n2. [https://dexie.org/](https://dexie.org/)\r\n    \r\n3. [https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB\\_API/Using\\_IndexedDB](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB)\r\n    \r\n4. [https://web.dev/articles/indexeddb](https://web.dev/articles/indexeddb)\r\n    \r\n5. [https://lobehub.com/docs/self-hosting/server-database](https://lobehub.com/docs/self-hosting/server-database)\r\n    \r\n6. [https://dexie.org/docs/Tutorial/React](https://dexie.org/docs/Tutorial/React)\r\n",
    "code": "var Component=(()=>{var d=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var u=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),g=(n,e)=>{for(var s in e)c(n,s,{get:e[s],enumerable:!0})},a=(n,e,s,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!b.call(n,r)&&r!==s&&c(n,r,{get:()=>e[r],enumerable:!(o=p(e,r))||o.enumerable});return n};var f=(n,e,s)=>(s=n!=null?d(m(n)):{},a(e||!n||!n.__esModule?c(s,\"default\",{value:n,enumerable:!0}):s,n)),x=n=>a(c({},\"__esModule\",{value:!0}),n);var i=u((D,t)=>{t.exports=_jsx_runtime});var N={};g(N,{default:()=>h,frontmatter:()=>w});var l=f(i()),w={title:\"Usage of Dexie, an IndexedDB wrapper, in Lobechat\"};function F(n){let e={a:\"a\",br:\"br\",code:\"code\",div:\"div\",h1:\"h1\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:[\"In this article, we analyze \",(0,l.jsx)(e.a,{href:\"https://dexie.org/\",children:\"Dexie\"}),\" usage in \",(0,l.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts\",children:\"Lobechat\"}),\".\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"If you check [database folder in \",(0,l.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/tree/main/src/database\",children:\"lobechat\"}),\", it has 2 folders:\"]}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:\"client\"}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:\"server\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(e.p,{children:[\"In this \",(0,l.jsx)(e.a,{href:\"https://lobehub.com/docs/self-hosting/server-database\",children:\"Lobechat\\u2019s self-host docs\"}),\", it is mentioned that LobeChat\",(0,l.jsx)(e.br,{}),`\n`,\"defaults to using a client-side database (IndexedDB). That is why you have two folders, one for client and one for server.\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"![](\",(0,l.jsx)(e.a,{href:\"https://miro.medium.com/v2/resize:fit:875/1*auzPtXHE1jG8EtFtUwBhrw.png\",children:\"https://miro.medium.com/v2/resize:fit:875/1*auzPtXHE1jG8EtFtUwBhrw.png\"}),' align=\"left\")']}),`\n`,(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts\",children:\"database/client/core/db.ts\"}),\" imports \",(0,l.jsx)(e.a,{href:\"https://dexie.org/\",children:\"Dexie\"}),\".\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Dexie is a minimalistic wrapper for indexedDB. Let\\u2019s look at a simple dexie example provided in the \",(0,l.jsx)(e.a,{href:\"https://dexie.org/docs/Tutorial/React\",children:\"Getting Started tutorial\"}),\".\"]}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" db.ts\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" Dexie\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" type\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" EntityTable \"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'dexie'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"interface\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Friend\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" id\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" number\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" name\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" string\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" age\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" number\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" db \"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" Dexie\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'FriendsDatabase'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" as\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Dexie\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" &\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" friends\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" EntityTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Friend\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'id'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" //\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF4\"},children:' primary key \"id\" (for the typings only)'})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" >;\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Schema declaration:\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"db\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"version\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(1).\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"stores\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" friends\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" '++id, name, age'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" //\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF4\"},children:' primary key \"id\" (for the runtime!)'})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"});\"})}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" type\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" Friend \"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" db \"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})]})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"important-note\",children:(0,l.jsx)(e.strong,{children:\"Important note:\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Applications typically have one single Dexie instance declared as its own module. This is where you declare which tables you need and how each table shall be indexed. A Dexie instance is a singleton throughout the\",(0,l.jsx)(e.br,{}),`\n`,\"application \\u2014 you do not need to create it on demand. Export the resulting db instance from your module so that components or other modules can use it to query or write to the database.\"]}),`\n`,(0,l.jsx)(e.p,{children:\"Using this line shown below, Lobechat creates a singleton instance of BrowserDB.\"}),`\n`,(0,l.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,l.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,l.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" class\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDB\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" extends\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Dexie\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" public\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" files\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDBTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'files'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" public\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" sessions\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDBTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'sessions'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" public\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" messages\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDBTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'messages'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" public\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" topics\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDBTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'topics'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" public\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" plugins\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDBTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'plugins'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" public\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" sessionGroups\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDBTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'sessionGroups'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" public\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" users\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" BrowserDBTable\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'users'\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"constructor()\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" this\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"version\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(1).\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"stores\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"dbSchemaV1\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" this\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"version\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(2).\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"stores\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"dbSchemaV2\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" this\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"version\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(3).\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"stores\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"dbSchemaV3\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" this\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"version\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(4)\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" .\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"stores\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"dbSchemaV4\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" .\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"upgrade\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"trans\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" this\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"upgradeToV4\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\"trans\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"));\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" //\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" \\u2026 more code\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" const\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" browserDB \"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" new\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF\"},children:\" BrowserDB\"}),(0,l.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]})]})})}),`\n`,(0,l.jsxs)(e.p,{children:[\"versions written in constructor show how the client side database schema evolved over the time, Read more about \",(0,l.jsx)(e.a,{href:\"https://dexie.org/docs/Dexie/Dexie.version()\",children:\"Dexie.version()\"}),\" to understand the versions.\"]}),`\n`,(0,l.jsx)(e.h1,{id:\"about-me\",children:(0,l.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,l.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,l.jsxs)(e.p,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,l.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,l.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,l.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,l.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,l.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,l.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,l.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,l.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,l.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,l.jsx)(e.h1,{id:\"references\",children:(0,l.jsx)(e.strong,{children:\"References:\"})}),`\n`,(0,l.jsxs)(e.ol,{children:[`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:\"https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts\",children:\"https://github.com/lobehub/lobe-chat/blob/main/src/database/client/core/db.ts\"})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:\"https://dexie.org/\",children:\"https://dexie.org/\"})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB\",children:\"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB\"})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:\"https://web.dev/articles/indexeddb\",children:\"https://web.dev/articles/indexeddb\"})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:\"https://lobehub.com/docs/self-hosting/server-database\",children:\"https://lobehub.com/docs/self-hosting/server-database\"})}),`\n`]}),`\n`,(0,l.jsxs)(e.li,{children:[`\n`,(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:\"https://dexie.org/docs/Tutorial/React\",children:\"https://dexie.org/docs/Tutorial/React\"})}),`\n`]}),`\n`]})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(F,{...n})}):F(n)}return x(N);})();\n;return Component;"
  },
  "_id": "blog/Usage-of-Dexie.mdx",
  "_raw": {
    "sourceFilePath": "blog/Usage-of-Dexie.mdx",
    "sourceFileName": "Usage-of-Dexie.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/Usage-of-Dexie"
  },
  "type": "Doc",
  "slug": "/blog/Usage-of-Dexie",
  "slugAsParams": "Usage-of-Dexie"
}