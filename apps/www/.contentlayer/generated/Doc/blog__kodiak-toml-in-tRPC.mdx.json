{
  "title": "kodiak.toml in tRPC source code\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nIn this article, we analyze [kodiak.t](https://kodiakhq.com/)oml found in [tRPC source](https://github.com/trpc/trpc/blob/next/.kodiak.toml) code.\r\n\r\n# **Kodiak**\r\n\r\nAutomate your GitHub Pull Requests using Kodiak\r\n\r\n1. Auto Update — Keep your PRs up to date with master automatically\r\n    \r\n2. Auto Merge — Add the automerge label to auto merge once CI and Approvals pass.\r\n    \r\n3. Bot Collaboration — Combine Kodiak with a dependency bot (dependabot, snyk, greenskeeper.io) to automate updating of dependencies\r\n    \r\n\r\nWhen you visit kodiak’s website, you will find that Kodiak is a tool that  \r\nautomates Github pull requests.\r\n\r\nCheck out its [quick start guide](https://kodiakhq.com/docs/quickstart).\r\n\r\n# **kodiak.yaml in trpc repository:**\r\n\r\nThe below code snippet is picked from [.kodiak.toml](https://github.com/trpc/trpc/blob/next/.kodiak.toml)\r\n\r\n```plaintext\r\n# .kodiak.toml\r\nversion = 1\r\n[approve]\r\nauto_approve_usernames = [\"dependabot\", \"renovate\"]\r\n[merge]\r\nmethod = \"squash\"\r\nautomerge_label = [\"🚀 merge\", \"⬆️ dependencies\"]\r\n[merge.automerge_dependencies]\r\n# only auto merge \"minor\" and \"patch\" version upgrades.\r\nversions = [\"minor\", \"patch\"]\r\nusernames = [\"dependabot\", \"renovate\"]\r\n[update]\r\nautoupdate_label = \"♻️ autoupdate\"\r\n```\r\n\r\nLet’s now refer to the documentation based on this configuration file. The first option is [approve](https://kodiakhq.com/docs/config-reference#approveauto_approve_usernames). If a PR is opened by a user with a username in the approve.auto\\_approve\\_usernames list, Kodiak will automatically add an approval to the PR. Read more about [approve](https://kodiakhq.com/docs/config-reference#approveauto_approve_usernames).\r\n\r\nNext option in above file is merge. It has two variables set, `method` and `automerge_label`. Label your pull request with the kodiak: merge.method = ‘rebase’ label, for example, to set merge.method to “rebase” for your pull request. Read more about [merge](https://kodiakhq.com/docs/config-reference#mergemethod-1). [automerge\\_label](https://kodiakhq.com/docs/config-reference#mergeautomerge_label) is a label to enable Kodiak to merge a PR. Kodiak can only merge pull requests passing your GitHub branch protection rules.If multiple labels are specified in an array, any of the specified labels will trigger merge.\r\n\r\n```plaintext\r\n[merge.automerge_dependencies]\r\n# only auto merge \"minor\" and \"patch\" version upgrades.\r\nversions = [\"minor\", \"patch\"]\r\nusernames = [\"dependabot\", \"renovate\"]\r\n```\r\n\r\nKodiak will only automerge dependency upgrades for pull request authors in this list. Check out [automerge\\_dependenciesusernames](https://kodiakhq.com/docs/config-reference#mergeautomerge_dependenciesusernames).\r\n\r\n```plaintext\r\n[update]\r\nautoupdate_label = \"♻️ autoupdate\"\r\n```\r\n\r\nPull requests with the update.autoupdate\\_label will be updated when they are out-of-date with their base branch.\r\n\r\nCheckout [Configuration Reference](https://kodiakhq.com/docs/config-reference) for a comprehensive list of  \r\nconfiguration options.\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\nI am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1\\. https://kodiakhq.com/  \r\n2\\. https://github.com/trpc/trpc/blob/next/.kodiak.toml\r\n",
    "code": "var Component=(()=>{var p=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var f=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var t in e)i(a,t,{get:e[t],enumerable:!0})},c=(a,e,t,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of u(e))!k.call(a,r)&&r!==t&&i(a,r,{get:()=>e[r],enumerable:!(o=m(e,r))||o.enumerable});return a};var y=(a,e,t)=>(t=a!=null?p(g(a)):{},c(e||!a||!a.__esModule?i(t,\"default\",{value:a,enumerable:!0}):t,a)),v=a=>c(i({},\"__esModule\",{value:!0}),a);var d=f((N,l)=>{l.exports=_jsx_runtime});var _={};b(_,{default:()=>h,frontmatter:()=>w});var n=y(d()),w={title:\"kodiak.toml in tRPC source code\"};function s(a){let e={a:\"a\",br:\"br\",code:\"code\",div:\"div\",h1:\"h1\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"In this article, we analyze \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/\",children:\"kodiak.t\"}),\"oml found in \",(0,n.jsx)(e.a,{href:\"https://github.com/trpc/trpc/blob/next/.kodiak.toml\",children:\"tRPC source\"}),\" code.\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"kodiak\",children:(0,n.jsx)(e.strong,{children:\"Kodiak\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Automate your GitHub Pull Requests using Kodiak\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Auto Update \\u2014 Keep your PRs up to date with master automatically\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Auto Merge \\u2014 Add the automerge label to auto merge once CI and Approvals pass.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Bot Collaboration \\u2014 Combine Kodiak with a dependency bot (dependabot, snyk, greenskeeper.io) to automate updating of dependencies\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"When you visit kodiak\\u2019s website, you will find that Kodiak is a tool that\",(0,n.jsx)(e.br,{}),`\n`,\"automates Github pull requests.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Check out its \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/docs/quickstart\",children:\"quick start guide\"}),\".\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"kodiakyaml-in-trpc-repository\",children:(0,n.jsx)(e.strong,{children:\"kodiak.yaml in trpc repository:\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The below code snippet is picked from \",(0,n.jsx)(e.a,{href:\"https://github.com/trpc/trpc/blob/next/.kodiak.toml\",children:\".kodiak.toml\"})]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"# .kodiak.toml\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"version = 1\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"[approve]\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'auto_approve_usernames = [\"dependabot\", \"renovate\"]'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"[merge]\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'method = \"squash\"'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'automerge_label = [\"\\u{1F680} merge\", \"\\u2B06\\uFE0F dependencies\"]'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"[merge.automerge_dependencies]\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'# only auto merge \"minor\" and \"patch\" version upgrades.'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'versions = [\"minor\", \"patch\"]'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'usernames = [\"dependabot\", \"renovate\"]'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"[update]\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'autoupdate_label = \"\\u267B\\uFE0F autoupdate\"'})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Let\\u2019s now refer to the documentation based on this configuration file. The first option is \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/docs/config-reference#approveauto_approve_usernames\",children:\"approve\"}),\". If a PR is opened by a user with a username in the approve.auto_approve_usernames list, Kodiak will automatically add an approval to the PR. Read more about \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/docs/config-reference#approveauto_approve_usernames\",children:\"approve\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Next option in above file is merge. It has two variables set, \",(0,n.jsx)(e.code,{children:\"method\"}),\" and \",(0,n.jsx)(e.code,{children:\"automerge_label\"}),\". Label your pull request with the kodiak: merge.method = \\u2018rebase\\u2019 label, for example, to set merge.method to \\u201Crebase\\u201D for your pull request. Read more about \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/docs/config-reference#mergemethod-1\",children:\"merge\"}),\". \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/docs/config-reference#mergeautomerge_label\",children:\"automerge_label\"}),\" is a label to enable Kodiak to merge a PR. Kodiak can only merge pull requests passing your GitHub branch protection rules.If multiple labels are specified in an array, any of the specified labels will trigger merge.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"[merge.automerge_dependencies]\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'# only auto merge \"minor\" and \"patch\" version upgrades.'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'versions = [\"minor\", \"patch\"]'})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'usernames = [\"dependabot\", \"renovate\"]'})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Kodiak will only automerge dependency upgrades for pull request authors in this list. Check out \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/docs/config-reference#mergeautomerge_dependenciesusernames\",children:\"automerge_dependenciesusernames\"}),\".\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"[update]\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:'autoupdate_label = \"\\u267B\\uFE0F autoupdate\"'})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"Pull requests with the update.autoupdate_label will be updated when they are out-of-date with their base branch.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Checkout \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/docs/config-reference\",children:\"Configuration Reference\"}),\" for a comprehensive list of\",(0,n.jsx)(e.br,{}),`\n`,\"configuration options.\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h1,{id:\"references\",children:(0,n.jsx)(e.strong,{children:\"References:\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"1. \",(0,n.jsx)(e.a,{href:\"https://kodiakhq.com/\",children:\"https://kodiakhq.com/\"}),(0,n.jsx)(e.br,{}),`\n`,\"2. \",(0,n.jsx)(e.a,{href:\"https://github.com/trpc/trpc/blob/next/.kodiak.toml\",children:\"https://github.com/trpc/trpc/blob/next/.kodiak.toml\"})]})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(s,{...a})}):s(a)}return v(_);})();\n;return Component;"
  },
  "_id": "blog/kodiak-toml-in-tRPC.mdx",
  "_raw": {
    "sourceFilePath": "blog/kodiak-toml-in-tRPC.mdx",
    "sourceFileName": "kodiak-toml-in-tRPC.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/kodiak-toml-in-tRPC"
  },
  "type": "Doc",
  "slug": "/blog/kodiak-toml-in-tRPC",
  "slugAsParams": "kodiak-toml-in-tRPC"
}