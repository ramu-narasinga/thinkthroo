---
title: @manypkg/get-packages usage in Changesets
toc: true
---

In this article, we analyse [@manypkg/get-packages](https://www.npmjs.com/package/@manypkg/get-packages) and its usage in [Changesets source code](https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4).

### @manypkg/get-packages

@manypkg/get-packages is open-source utility written by [Thinkmill](https://www.thinkmill.com.au/). It is a   
simple utility to get the packages from a monorepo, whether they’re using Yarn, Bolt, Lerna, pnpm or Rush.

This library exports getPackages and getPackagesSync. It is intended mostly for use of developers building tools that want to support different kinds of monorepos as an easy way to write tools without having to write   
tool-specific code. It supports Yarn, Bolt, Lerna, pnpm, Rush and single-package repos(where the only package is the the same as the root package). This library uses @manypkg/find-root to search up from the directory   
that’s passed to getPackages or getPackagesSync to find the project root.

### @manypkg/get-packages usage in Changesets

Since Changesets is a monorepo, it has a package named [should-skip-package](https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4). In this package, you will find an import from @manypkg/get-packages as shown below.

![](https://cdn-images-1.medium.com/max/1600/1*o_QKghWDrBGODrgrm9Tb4g.png)

But this only imports type — Package

There is another example found in [CLI package](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L40).

```plaintext
const packages = await getPackages(cwd);
```

![](https://cdn-images-1.medium.com/max/1600/1*y2mudwTOKEX0XcVT0S4DMg.png)

### About us:

At [Thinkthroo](https://thinkthroo.com/), we study large open source projects and [provide architectural guides](https://app.thinkthroo.com/architecture). We have developed reusable [Components, built with tailwind, that you can use in your project](https://thinkthroo.com/components). We offer [Next.js, React and Node development services.](https://thinkthroo.com/components)

[Book a meeting](https://cal.com/team-thinkthroo-dxiovj/consultation?date=2024-10-19&month=2024-10) with us to discuss your project.

![](https://cdn-images-1.medium.com/max/1600/0*NxFtbdT-jz_GGi2N.png)

### References:

1. [https://www.npmjs.com/package/@manypkg/get-packages](https://www.npmjs.com/package/@manypkg/get-packages)
    
2. [https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L5C10-L5C28](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L5C10-L5C28)
    
3. [https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4](https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4)
    
4. [https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L156](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L156)
    
5. [https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L168](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L168)