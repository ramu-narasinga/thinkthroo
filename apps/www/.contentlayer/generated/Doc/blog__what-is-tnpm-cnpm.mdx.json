{
  "title": "You are familiar with npm/pnpm but have you heard of tnpm or cnpm?\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "I have written an articles explaining [how to install npm packages programmatically](https://medium.com/@thinkthroo/part-1-how-to-install-npm-packages-programmatically-b35f1a2c0142). There’s a function called [getNpmClient](https://github.com/umijs/umi/blob/master/packages/utils/src/npmClient.ts#L13).\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*SmdHCy7BxVLFRVcAmhAlBA.png)\r\n\r\n# **Detect tnpm/cnpm client**\r\n\r\nThis comment below and the code show us how you could detect tnpm/cnpm client.\r\n\r\n```javascript\r\n// detect tnpm/cnpm client\r\n  // all situations:\r\n  //   - npminstall mode + native fs => generate _resolved field in package.json\r\n  //   - npminstall mode + rapid fs => generate .package-lock.json in node_modules\r\n  //   - npm mode + native fs => generate .package-lock.json in node_modules\r\n  //   - npm mode + rapid fs => generate .package-lock.json in node_modules\r\n  // all conditions:\r\n  //   - has _resolved field or .package-lock.json means tnpm/cnpm\r\n  //   - _resolved field or .package-lock.json contains tnpm registry means tnpm\r\n  if (chokidarPkg._resolved) {\r\n    return tnpmRegistries.some((r) => chokidarPkg._resolved.includes(r))\r\n      ? 'tnpm'\r\n      : 'cnpm';\r\n  } else if (existsSync(tcnpmLockPath)) {\r\n    const tcnpmLock = readFileSync(tcnpmLockPath, 'utf-8');\r\n\r\n    return tnpmRegistries.some((r) => tcnpmLock.includes(r)) ? 'tnpm' : 'cnpm';\r\n  }\r\n```\r\n\r\n## **Detect tnpm client**\r\n\r\n> *has \\_resolved field or .package-loc.json means tnpm/cnpm*\r\n\r\nThis comment explains what this below if block is about\r\n\r\n```javascript\r\nif (chokidarPkg._resolved) {\r\n    return tnpmRegistries.some((r) => chokidarPkg._resolved.includes(r))\r\n      ? 'tnpm'\r\n      : 'cnpm';\r\n}\r\n```\r\n\r\n## **Detect tnpm client**\r\n\r\n> *\\- \\_resolved field or .package-lock.json contains tnpm registry means tnpm*\r\n\r\nThis comment above explains the else if block below\r\n\r\n```javascript\r\nelse if (existsSync(tcnpmLockPath)) {\r\n  const tcnpmLock = readFileSync(tcnpmLockPath, 'utf-8');\r\n```\r\n\r\n```javascript\r\n  return tnpmRegistries.some((r) => tcnpmLock.includes(r)) ? 'tnpm' : 'cnpm';\r\n}\r\n```\r\n\r\nThis is the first time I am learning about tnpm or cnpm. I will write an article about these.\r\n\r\nBut what is tnpm or cnpm client?\r\n\r\n# **tnpm Client**\r\n\r\ntnpm is an enterprise service for Alibaba and Ant Group, which is also based on cnpm, with additional enterprise-level customization.\r\n\r\n# **cnpm Client**\r\n\r\n[cnpm](https://github.com/cnpm) is an open-source implementation of npm, which supports mirror synchronization with the official npm registry and private package capabilities.\r\n\r\nThere is an [in-depth of tnpm rapid mode — how tnpm managed to be 10 second faster than pnpm](https://dev.to/atian25/in-depth-of-tnpm-rapid-mode-how-could-we-fast-10s-than-pnpm-3bpp)\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*MPa2-prYc7-XOw3CdOBEbg.png)\r\n\r\nThis article talks in depth about\r\n\r\n1. Why is npm soooo slow?\r\n    \r\n2. What are tnpm and cnpm?\r\n    \r\n3. Optimization results and much more.\r\n    \r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\n***I am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com***\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1. [https://dev.to/atian25/in-depth-of-tnpm-rapid-mode-how-could-we-fast-10s-than-pnpm-3bpp](https://dev.to/atian25/in-depth-of-tnpm-rapid-mode-how-could-we-fast-10s-than-pnpm-3bpp)\r\n    \r\n2. [https://github.com/cnpm/cnpm](https://github.com/cnpm/cnpm)\r\n    \r\n3. [https://github.com/umijs/umi/blob/packages/utils/src/npmClient.ts#L18](https://github.com/umijs/umi/blob/9c3194d0617276fbecd09d19a8cff606fcaac82d/packages/utils/src/npmClient.ts#L18)",
    "code": "var Component=(()=>{var h=Object.create;var s=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var c in e)s(l,c,{get:e[c],enumerable:!0})},o=(l,e,c,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of m(e))!u.call(l,r)&&r!==c&&s(l,r,{get:()=>e[r],enumerable:!(t=d(e,r))||t.enumerable});return l};var k=(l,e,c)=>(c=l!=null?h(y(l)):{},o(e||!l||!l.__esModule?s(c,\"default\",{value:l,enumerable:!0}):c,l)),b=l=>o(s({},\"__esModule\",{value:!0}),l);var i=g((N,a)=>{a.exports=_jsx_runtime});var w={};f(w,{default:()=>p,frontmatter:()=>v});var n=k(i()),v={title:\"You are familiar with npm/pnpm but have you heard of tnpm or cnpm?\"};function F(l){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",div:\"div\",em:\"em\",h1:\"h1\",h2:\"h2\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"I have written an articles explaining \",(0,n.jsx)(e.a,{href:\"https://medium.com/@thinkthroo/part-1-how-to-install-npm-packages-programmatically-b35f1a2c0142\",children:\"how to install npm packages programmatically\"}),\". There\\u2019s a function called \",(0,n.jsx)(e.a,{href:\"https://github.com/umijs/umi/blob/master/packages/utils/src/npmClient.ts#L13\",children:\"getNpmClient\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*SmdHCy7BxVLFRVcAmhAlBA.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.h1,{id:\"detect-tnpmcnpm-client\",children:(0,n.jsx)(e.strong,{children:\"Detect tnpm/cnpm client\"})}),`\n`,(0,n.jsx)(e.p,{children:\"This comment below and the code show us how you could detect tnpm/cnpm client.\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" detect tnpm/cnpm client\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" all situations:\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\"   - npminstall mode + native fs => generate _resolved field in package.json\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\"   - npminstall mode + rapid fs => generate .package-lock.json in node_modules\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\"   - npm mode + native fs => generate .package-lock.json in node_modules\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\"   - npm mode + rapid fs => generate .package-lock.json in node_modules\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" all conditions:\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\"   - has _resolved field or .package-lock.json means tnpm/cnpm\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\"   - _resolved field or .package-lock.json contains tnpm registry means tnpm\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"chokidarPkg\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" chokidarPkg\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      ?\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      :\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  }\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" else\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"existsSync\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tcnpmLock \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" readFileSync\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'utf-8'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tcnpmLock\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  }\"})})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"detect-tnpm-client\",children:(0,n.jsx)(e.strong,{children:\"Detect tnpm client\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"has _resolved field or .package-loc.json means tnpm/cnpm\"})}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"This comment explains what this below if block is about\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"if\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"chokidarPkg\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" chokidarPkg\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      ?\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      :\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"detect-tnpm-client-1\",children:(0,n.jsx)(e.strong,{children:\"Detect tnpm client\"})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"- _resolved field or .package-lock.json contains tnpm registry means tnpm\"})}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"This comment above explains the else if block below\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"else\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" if\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"existsSync\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tcnpmLock \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" readFileSync\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'utf-8'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]})]})})}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" tcnpmLock\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"This is the first time I am learning about tnpm or cnpm. I will write an article about these.\"}),`\n`,(0,n.jsx)(e.p,{children:\"But what is tnpm or cnpm client?\"}),`\n`,(0,n.jsx)(e.h1,{id:\"tnpm-client\",children:(0,n.jsx)(e.strong,{children:\"tnpm Client\"})}),`\n`,(0,n.jsx)(e.p,{children:\"tnpm is an enterprise service for Alibaba and Ant Group, which is also based on cnpm, with additional enterprise-level customization.\"}),`\n`,(0,n.jsx)(e.h1,{id:\"cnpm-client\",children:(0,n.jsx)(e.strong,{children:\"cnpm Client\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/cnpm\",children:\"cnpm\"}),\" is an open-source implementation of npm, which supports mirror synchronization with the official npm registry and private package capabilities.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"There is an \",(0,n.jsx)(e.a,{href:\"https://dev.to/atian25/in-depth-of-tnpm-rapid-mode-how-could-we-fast-10s-than-pnpm-3bpp\",children:\"in-depth of tnpm rapid mode \\u2014 how tnpm managed to be 10 second faster than pnpm\"})]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*MPa2-prYc7-XOw3CdOBEbg.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.p,{children:\"This article talks in depth about\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Why is npm soooo slow?\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"What are tnpm and cnpm?\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Optimization results and much more.\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:(0,n.jsxs)(e.strong,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h1,{id:\"references\",children:(0,n.jsx)(e.strong,{children:\"References:\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://dev.to/atian25/in-depth-of-tnpm-rapid-mode-how-could-we-fast-10s-than-pnpm-3bpp\",children:\"https://dev.to/atian25/in-depth-of-tnpm-rapid-mode-how-could-we-fast-10s-than-pnpm-3bpp\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/cnpm/cnpm\",children:\"https://github.com/cnpm/cnpm\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/umijs/umi/blob/9c3194d0617276fbecd09d19a8cff606fcaac82d/packages/utils/src/npmClient.ts#L18\",children:\"https://github.com/umijs/umi/blob/packages/utils/src/npmClient.ts#L18\"})}),`\n`]}),`\n`]})]})}function p(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(F,{...l})}):F(l)}return b(w);})();\n;return Component;"
  },
  "_id": "blog/what-is-tnpm-cnpm.mdx",
  "_raw": {
    "sourceFilePath": "blog/what-is-tnpm-cnpm.mdx",
    "sourceFileName": "what-is-tnpm-cnpm.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/what-is-tnpm-cnpm"
  },
  "type": "Doc",
  "slug": "/blog/what-is-tnpm-cnpm",
  "slugAsParams": "what-is-tnpm-cnpm"
}