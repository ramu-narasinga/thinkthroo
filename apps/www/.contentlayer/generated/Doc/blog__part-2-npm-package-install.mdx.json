{
  "title": "Part 2-How to install npm packages programmatically?\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "In the [previous article](https://medium.com/@thinkthroo/part-1-how-to-install-npm-packages-programmatically-b35f1a2c0142), we reviewed some code in [Father, an NPM package development tool](https://github.com/umijs/father/tree/a95a4ead36ecb4788728348fcb45a83507a0fb17), related to installing npm packages programmatically and this led us to discover two functions in the [installDeps](https://github.com/umijs/father/blob/master/src/commands/generators/utils.ts#L41C3-L48C4).\r\n\r\n```javascript\r\ninstallDeps() {\r\n  const { api } = this;\r\n  const npmClient = getNpmClient({ cwd: api.cwd });\r\n  installWithNpmClient({\r\n    npmClient,\r\n  });\r\n  logger.quietExpect.info(`Install dependencies with ${npmClient}`);\r\n}\r\n```\r\n\r\nWe will review the two functions listed below:\r\n\r\n* getNpmClient\r\n    \r\n* installWithNpmClient\r\n    \r\n\r\n# **getNpmClient**\r\n\r\ngetNpmClient is imported as shown below\r\n\r\n```javascript\r\nimport { getNpmClient, installWithNpmClient, prompts } from '@umijs/utils';\r\n```\r\n\r\nI did search for [utils repo in the umijs organisation](https://github.com/orgs/umijs/repositories?q=utils).\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*uLMDR1SSkl62dUgSxJjChg.png)\r\n\r\nSince Father codebase is a not a monorepo, @umijs/utils has to be an [npm package.](https://www.npmjs.com/package/@umijs/utils) You will find this [utils package in umi repository](https://github.com/umijs/umi/tree/master/packages/utils).\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*xn7AfjyAJkgn7KkRNBWmVQ.png)\r\n\r\nFinally, getNpmClient code can be found in [utils/npmClient.ts](https://github.com/umijs/umi/blob/master/packages/utils/src/npmClient.ts#L13)\r\n\r\n```javascript\r\nexport const getNpmClient = (opts: { cwd: string }): NpmClient => {\r\n  const tnpmRegistries = ['.alibaba-inc.', '.antgroup-inc.'];\r\n  const tcnpmLockPath = join(opts.cwd, 'node_modules', '.package-lock.json');\r\n  const chokidarPkg = require('chokidar/package.json');\r\n\r\n  // detect tnpm/cnpm client\r\n  // all situations:\r\n  //   - npminstall mode + native fs => generate _resolved field in package.json\r\n  //   - npminstall mode + rapid fs => generate .package-lock.json in node_modules\r\n  //   - npm mode + native fs => generate .package-lock.json in node_modules\r\n  //   - npm mode + rapid fs => generate .package-lock.json in node_modules\r\n  // all conditions:\r\n  //   - has _resolved field or .package-lock.json means tnpm/cnpm\r\n  //   - _resolved field or .package-lock.json contains tnpm registry means tnpm\r\n  if (chokidarPkg._resolved) {\r\n    return tnpmRegistries.some((r) => chokidarPkg._resolved.includes(r))\r\n      ? 'tnpm'\r\n      : 'cnpm';\r\n  } else if (existsSync(tcnpmLockPath)) {\r\n    const tcnpmLock = readFileSync(tcnpmLockPath, 'utf-8');\r\n\r\n    return tnpmRegistries.some((r) => tcnpmLock.includes(r)) ? 'tnpm' : 'cnpm';\r\n  }\r\n\r\n  const chokidarPath = require.resolve('chokidar');\r\n  if (\r\n    chokidarPath.includes('.pnpm') ||\r\n    existsSync(join(opts.cwd, 'node_modules', '.pnpm'))\r\n  ) {\r\n    return 'pnpm';\r\n  }\r\n  if (\r\n    existsSync(join(opts.cwd, 'yarn.lock')) ||\r\n    existsSync(join(opts.cwd, 'node_modules', '.yarn-integrity'))\r\n  ) {\r\n    return 'yarn';\r\n  }\r\n  return 'npm';\r\n};\r\n```\r\n\r\n## **Detect tnpm/cnpm client**\r\n\r\n> *has \\_resolved field or .package-loc.json means tnpm/cnpm*\r\n\r\nThis comment explains what this below if block is about\r\n\r\n```javascript\r\nif (chokidarPkg._resolved) {\r\n    return tnpmRegistries.some((r) => chokidarPkg._resolved.includes(r))\r\n      ? 'tnpm'\r\n      : 'cnpm';\r\n}\r\n```\r\n\r\n> *\\- \\_resolved field or .package-lock.json contains tnpm registry means tnpm*\r\n\r\nThis comment above explains the else if block below\r\n\r\n```javascript\r\nelse if (existsSync(tcnpmLockPath)) {\r\n  const tcnpmLock = readFileSync(tcnpmLockPath, 'utf-8');\r\n\r\n  return tnpmRegistries.some((r) => tcnpmLock.includes(r)) ? 'tnpm' : 'cnpm';\r\n}\r\n```\r\n\r\nThis is the first time I am learning about tnpm or cnpm. I will write an article about these.\r\n\r\n## **Detect pnpm client**\r\n\r\n```javascript\r\nconst chokidarPath = require.resolve('chokidar');\r\n  if (\r\n    chokidarPath.includes('.pnpm') ||\r\n    existsSync(join(opts.cwd, 'node_modules', '.pnpm'))\r\n  ) {\r\n    return 'pnpm';\r\n  }\r\n```\r\n\r\n## **Detect yarn client**\r\n\r\n```javascript\r\nif (\r\n    existsSync(join(opts.cwd, 'yarn.lock')) ||\r\n    existsSync(join(opts.cwd, 'node_modules', '.yarn-integrity'))\r\n  ) {\r\n    return 'yarn';\r\n  }\r\n```\r\n\r\nif none of the above conditions are met, this function defaults to “npm”.\r\n\r\n# **installWithNpmClient**\r\n\r\nIn the same [packages/utils/npmClient.ts fiile](https://github.com/umijs/umi/blob/master/packages/utils/src/npmClient.ts#L53), you will find the installWithNpmClient.\r\n\r\n```javascript\r\nexport const installWithNpmClient = ({\r\n  npmClient,\r\n  cwd,\r\n}: {\r\n  npmClient: NpmClient;\r\n  cwd?: string;\r\n}): void => {\r\n  const { sync } = require('../compiled/cross-spawn');\r\n  // pnpm install will not install devDependencies when NODE_ENV === 'production'\r\n  // we should remove NODE_ENV to make sure devDependencies can be installed\r\n  const { NODE_ENV: _, ...env } = process.env;\r\n  const npm = sync(npmClient, [npmClient === 'yarn' ? '' : 'install'], {\r\n    stdio: 'inherit',\r\n    cwd,\r\n    env,\r\n  });\r\n  if (npm.error) {\r\n    throw npm.error;\r\n  }\r\n};\r\n```\r\n\r\nWe need to learn more about sync function. sync is required from [compiled/cross-spawn](https://github.com/umijs/umi/blob/master/packages/utils/compiled/cross-spawn/package.json). Uncompiled cross-spawn can be found at [node-cross-spawn](https://github.com/moxystudio/node-cross-spawn/blob/master/index.js). How do I know? both of these have the common name mentioned — André Cruz in [utils/compiled/cross-spawn/package.json](https://github.com/umijs/umi/blob/master/packages/utils/compiled/cross-spawn/package.json) and in [node-cross-spawn package.json](https://github.com/moxystudio/node-cross-spawn/blob/master/package.json#L15).\r\n\r\nSeeing this “compiled” rings a bell for me. I have seen similar [compiled folder in Next.js source code](https://github.com/vercel/next.js/tree/canary/packages/next/src/compiled).\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\n***I am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com***\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1. [src/commands/generators/jest.ts#L97](https://github.com/umijs/father/blob/a95a4ead36ecb4788728348fcb45a83507a0fb17/src/commands/generators/jest.ts#L97)\r\n    \r\n2. [src/commands/generators/utils.ts#L1](https://github.com/umijs/father/blob/master/src/commands/generators/utils.ts#L1)\r\n    \r\n3. [/search?q=repo%3Aumijs%2Ffather%20%40umijs%2Futils&type=code](https://github.com/search?q=repo%3Aumijs%2Ffather+%40umijs%2Futils&type=code)\r\n    \r\n4. [https://github.com/orgs/umijs/repositories?q=utils](https://github.com/orgs/umijs/repositories?q=utils)\r\n    \r\n5. [https://www.npmjs.com/package/@umijs/utils](https://www.npmjs.com/package/@umijs/utils)\r\n    \r\n6. [https://github.com/umijs/umi/blob/master/package.json#L82](https://github.com/umijs/umi/blob/master/package.json#L82)\r\n    \r\n7. [https://github.com/umijs/umi/tree/master/packages/utils](https://github.com/umijs/umi/tree/master/packages/utils)\r\n    \r\n8. [/packages/utils/src/npmClient.ts#L13](https://github.com/umijs/umi/blob/9c3194d0617276fbecd09d19a8cff606fcaac82d/packages/utils/src/npmClient.ts#L13)\r\n    \r\n9. [/packages/utils/compiled](https://github.com/umijs/umi/tree/9c3194d0617276fbecd09d19a8cff606fcaac82d/packages/utils/compiled)",
    "code": "var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(n,l)=>()=>(l||n((l={exports:{}}).exports,l),l.exports),f=(n,l)=>{for(var s in l)r(n,s,{get:l[s],enumerable:!0})},o=(n,l,s,F)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let c of y(l))!u.call(n,c)&&c!==s&&r(n,c,{get:()=>l[c],enumerable:!(F=p(l,c))||F.enumerable});return n};var N=(n,l,s)=>(s=n!=null?h(m(n)):{},o(l||!n||!n.__esModule?r(s,\"default\",{value:n,enumerable:!0}):s,n)),b=n=>o(r({},\"__esModule\",{value:!0}),n);var i=g((v,a)=>{a.exports=_jsx_runtime});var j={};f(j,{default:()=>d,frontmatter:()=>k});var e=N(i()),k={title:\"Part 2-How to install npm packages programmatically?\"};function t(n){let l={a:\"a\",blockquote:\"blockquote\",code:\"code\",div:\"div\",em:\"em\",h1:\"h1\",h2:\"h2\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.p,{children:[\"In the \",(0,e.jsx)(l.a,{href:\"https://medium.com/@thinkthroo/part-1-how-to-install-npm-packages-programmatically-b35f1a2c0142\",children:\"previous article\"}),\", we reviewed some code in \",(0,e.jsx)(l.a,{href:\"https://github.com/umijs/father/tree/a95a4ead36ecb4788728348fcb45a83507a0fb17\",children:\"Father, an NPM package development tool\"}),\", related to installing npm packages programmatically and this led us to discover two functions in the \",(0,e.jsx)(l.a,{href:\"https://github.com/umijs/father/blob/master/src/commands/generators/utils.ts#L41C3-L48C4\",children:\"installDeps\"}),\".\"]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"installDeps\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"()\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" api \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" this\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" npmClient \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" getNpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"({\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" api\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"});\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"  installWithNpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"({\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    npmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  });\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"  logger\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"quietExpect\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"info\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"`Install dependencies with ${\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"npmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}`\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"We will review the two functions listed below:\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:\"getNpmClient\"}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:\"installWithNpmClient\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(l.h1,{id:\"getnpmclient\",children:(0,e.jsx)(l.strong,{children:\"getNpmClient\"})}),`\n`,(0,e.jsx)(l.p,{children:\"getNpmClient is imported as shown below\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsx)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" getNpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" installWithNpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" prompts \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" '@umijs/utils'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]})})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"I did search for \",(0,e.jsx)(l.a,{href:\"https://github.com/orgs/umijs/repositories?q=utils\",children:\"utils repo in the umijs organisation\"}),\".\"]}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*uLMDR1SSkl62dUgSxJjChg.png\",alt:\"\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"Since Father codebase is a not a monorepo, @umijs/utils has to be an \",(0,e.jsx)(l.a,{href:\"https://www.npmjs.com/package/@umijs/utils\",children:\"npm package.\"}),\" You will find this \",(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/tree/master/packages/utils\",children:\"utils package in umi repository\"}),\".\"]}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*xn7AfjyAJkgn7KkRNBWmVQ.png\",alt:\"\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"Finally, getNpmClient code can be found in \",(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/blob/master/packages/utils/src/npmClient.ts#L13\",children:\"utils/npmClient.ts\"})]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" getNpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" string \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}):\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" NpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"'.alibaba-inc.'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" '.antgroup-inc.'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"];\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tcnpmLockPath \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" join\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'node_modules'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" '.package-lock.json'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" chokidarPkg \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" require\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"'chokidar/package.json'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\" detect tnpm/cnpm client\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\" all situations:\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\"   - npminstall mode + native fs => generate _resolved field in package.json\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\"   - npminstall mode + rapid fs => generate .package-lock.json in node_modules\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\"   - npm mode + native fs => generate .package-lock.json in node_modules\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\"   - npm mode + rapid fs => generate .package-lock.json in node_modules\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\" all conditions:\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\"   - has _resolved field or .package-lock.json means tnpm/cnpm\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\"   - _resolved field or .package-lock.json contains tnpm registry means tnpm\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"chokidarPkg\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" chokidarPkg\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"      ?\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"      :\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  }\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" else\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tcnpmLock \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" readFileSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'utf-8'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tcnpmLock\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ?\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" :\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" chokidarPath \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" require\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"'chokidar'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    chokidarPath\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"'.pnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ||\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"join\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'node_modules'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" '.pnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  )\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'pnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"join\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'yarn.lock'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ||\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"join\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'node_modules'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" '.yarn-integrity'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  )\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'yarn'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'npm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"};\"})})]})})}),`\n`,(0,e.jsx)(l.h2,{id:\"detect-tnpmcnpm-client\",children:(0,e.jsx)(l.strong,{children:\"Detect tnpm/cnpm client\"})}),`\n`,(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"has _resolved field or .package-loc.json means tnpm/cnpm\"})}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"This comment explains what this below if block is about\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"chokidarPkg\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" chokidarPkg\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"_resolved\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"      ?\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"      :\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:\"- _resolved field or .package-lock.json contains tnpm registry means tnpm\"})}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"This comment above explains the else if block below\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"else\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tcnpmLock \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" readFileSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"tcnpmLockPath\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'utf-8'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tnpmRegistries\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"some\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" tcnpmLock\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"r\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ?\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'tnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" :\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'cnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"This is the first time I am learning about tnpm or cnpm. I will write an article about these.\"}),`\n`,(0,e.jsx)(l.h2,{id:\"detect-pnpm-client\",children:(0,e.jsx)(l.strong,{children:\"Detect pnpm client\"})}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" chokidarPath \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" require\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"resolve\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"'chokidar'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    chokidarPath\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"includes\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"'.pnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ||\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"join\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'node_modules'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" '.pnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  )\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'pnpm'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  }\"})})]})})}),`\n`,(0,e.jsx)(l.h2,{id:\"detect-yarn-client\",children:(0,e.jsx)(l.strong,{children:\"Detect yarn client\"})}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"join\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'yarn.lock'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ||\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    existsSync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"join\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"opts\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'node_modules'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" '.yarn-integrity'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  )\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    return\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'yarn'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  }\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"if none of the above conditions are met, this function defaults to \\u201Cnpm\\u201D.\"}),`\n`,(0,e.jsx)(l.h1,{id:\"installwithnpmclient\",children:(0,e.jsx)(l.strong,{children:\"installWithNpmClient\"})}),`\n`,(0,e.jsxs)(l.p,{children:[\"In the same \",(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/blob/master/packages/utils/src/npmClient.ts#L53\",children:\"packages/utils/npmClient.ts fiile\"}),\", you will find the installWithNpmClient.\"]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" installWithNpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ({\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"  npmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"  cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}:\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"  npmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" NpmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"  cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"?:\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" string\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}):\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" void \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" sync \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" require\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"'../compiled/cross-spawn'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\" pnpm install will not install devDependencies when NODE_ENV === 'production'\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF4\"},children:\" we should remove NODE_ENV to make sure devDependencies can be installed\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" NODE_ENV\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" _\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ...\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"env \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" process\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"env\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" npm \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" sync\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"npmClient\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"npmClient \"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"===\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'yarn'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ?\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" ''\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" :\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'install'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"],\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    stdio\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" 'inherit'\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    cwd\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"    env\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  });\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  if\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"npm\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"    throw\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\" npm\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF\"},children:\"error\"}),(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#FFF8\"},children:\"};\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"We need to learn more about sync function. sync is required from \",(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/blob/master/packages/utils/compiled/cross-spawn/package.json\",children:\"compiled/cross-spawn\"}),\". Uncompiled cross-spawn can be found at \",(0,e.jsx)(l.a,{href:\"https://github.com/moxystudio/node-cross-spawn/blob/master/index.js\",children:\"node-cross-spawn\"}),\". How do I know? both of these have the common name mentioned \\u2014 Andr\\xE9 Cruz in \",(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/blob/master/packages/utils/compiled/cross-spawn/package.json\",children:\"utils/compiled/cross-spawn/package.json\"}),\" and in \",(0,e.jsx)(l.a,{href:\"https://github.com/moxystudio/node-cross-spawn/blob/master/package.json#L15\",children:\"node-cross-spawn package.json\"}),\".\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Seeing this \\u201Ccompiled\\u201D rings a bell for me. I have seen similar \",(0,e.jsx)(l.a,{href:\"https://github.com/vercel/next.js/tree/canary/packages/next/src/compiled\",children:\"compiled folder in Next.js source code\"}),\".\"]}),`\n`,(0,e.jsx)(l.h1,{id:\"about-me\",children:(0,e.jsx)(l.strong,{children:\"About me:\"})}),`\n`,(0,e.jsx)(l.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.em,{children:(0,e.jsxs)(l.strong,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,e.jsx)(l.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"My Github \\u2014 \",(0,e.jsx)(l.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"My website \\u2014 \",(0,e.jsx)(l.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"My Youtube channel \\u2014 \",(0,e.jsx)(l.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Learning platform \\u2014 \",(0,e.jsx)(l.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Codebase Architecture \\u2014 \",(0,e.jsx)(l.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Best practices \\u2014 \",(0,e.jsx)(l.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Production-grade projects \\u2014 \",(0,e.jsx)(l.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,e.jsx)(l.h1,{id:\"references\",children:(0,e.jsx)(l.strong,{children:\"References:\"})}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/umijs/father/blob/a95a4ead36ecb4788728348fcb45a83507a0fb17/src/commands/generators/jest.ts#L97\",children:\"src/commands/generators/jest.ts#L97\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/umijs/father/blob/master/src/commands/generators/utils.ts#L1\",children:\"src/commands/generators/utils.ts#L1\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/search?q=repo%3Aumijs%2Ffather+%40umijs%2Futils&type=code\",children:\"/search?q=repo%3Aumijs%2Ffather%20%40umijs%2Futils&type=code\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/orgs/umijs/repositories?q=utils\",children:\"https://github.com/orgs/umijs/repositories?q=utils\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://www.npmjs.com/package/@umijs/utils\",children:\"https://www.npmjs.com/package/@umijs/utils\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/blob/master/package.json#L82\",children:\"https://github.com/umijs/umi/blob/master/package.json#L82\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/tree/master/packages/utils\",children:\"https://github.com/umijs/umi/tree/master/packages/utils\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/blob/9c3194d0617276fbecd09d19a8cff606fcaac82d/packages/utils/src/npmClient.ts#L13\",children:\"/packages/utils/src/npmClient.ts#L13\"})}),`\n`]}),`\n`,(0,e.jsxs)(l.li,{children:[`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.a,{href:\"https://github.com/umijs/umi/tree/9c3194d0617276fbecd09d19a8cff606fcaac82d/packages/utils/compiled\",children:\"/packages/utils/compiled\"})}),`\n`]}),`\n`]})]})}function d(n={}){let{wrapper:l}=n.components||{};return l?(0,e.jsx)(l,{...n,children:(0,e.jsx)(t,{...n})}):t(n)}return b(j);})();\n;return Component;"
  },
  "_id": "blog/part-2-npm-package-install.mdx",
  "_raw": {
    "sourceFilePath": "blog/part-2-npm-package-install.mdx",
    "sourceFileName": "part-2-npm-package-install.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/part-2-npm-package-install"
  },
  "type": "Doc",
  "slug": "/blog/part-2-npm-package-install",
  "slugAsParams": "part-2-npm-package-install"
}