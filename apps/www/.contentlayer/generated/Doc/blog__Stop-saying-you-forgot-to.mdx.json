{
  "title": "Stop saying “you forgot to …” in code review\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nIn this article, we analyse a file named [dangerfile.js](https://github.com/facebook/react/blob/main/dangerfile.js) in React source code.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*5CsCitxiOUMGLB4kBiiRxg.png)\r\n\r\nThe above screenshot is from [React source code](https://github.com/facebook/react/blob/main/dangerfile.js).\r\n\r\n# **What is Danger.js?**\r\n\r\nDanger runs during your CI process, and gives your team the chance to automate common code review chores such as enforcing changelogs, encouraging smaller PRs, show useful info on a PR.\r\n\r\nThis provides another logical step in your build, through this Danger can help lint your rote tasks in daily code review.\r\n\r\nDanger leaves messages inside your PRs based on rules that you create with JavaScript or TypeScript.\r\n\r\nOver time, as rules are adhered to, the message is amended to reflect the current state of the code review.\r\n\r\n# **An example from React PR:**\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*ozkVVfTl4ywx-NuLLJgeow.png)\r\n\r\nThis [pull request has a comment](https://github.com/facebook/react/pull/31013#issuecomment-2364645268) left by dangerJs about critical size changes.\r\n\r\n# **Danger has good documentation:**\r\n\r\nDangerjs provides good documentation:\r\n\r\n1. [Getting Started with Danger JS](https://danger.systems/js/guides/getting_started)\r\n    \r\n2. [Extending Dange](https://danger.systems/js/usage/extending-danger)r\r\n    \r\n3. [Danger + Node Library](https://danger.systems/js/tutorials/node-library)\r\n    \r\n\r\nThere’s more do checkout [dangerjs website](https://danger.systems/js/).\r\n\r\n# **An overview of react/dangerfile.js**\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*8qD2sdeATINYu3Jrhz33Hw.png)\r\n\r\nFrom the looks of [react/dangerfile.js](https://github.com/facebook/react/blob/main/dangerfile.js), React uses this file mainly to compute critical built size changes.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*WedCb8yAv_xkaVYiQ7Iy0Q.png)\r\n\r\n```plaintext\r\nconst {markdown, danger, warn} = require('danger');\r\n```\r\n\r\nThis import is found at the top of the file. Let’s find out what these functions are and how they are used in react/dangerfile.js.\r\n\r\nmarkdown and warn, these are the functions which you use in rules to provide feedback during code review. Assuming Danger has access to write a comment, then `warn`and `markdown` will report directly inline.\r\n\r\n```plaintext\r\n// Adds raw markdown into the Danger comment, under the table\r\nmarkdown(message: MarkdownString, file?: string, line?: number) => void\r\n\r\n// Highlights low-priority issues, but does not fail the build. Message is shown inside a HTML table.\r\nwarn(message: MarkdownString, file?: string, line?: number) => void\r\n```\r\n\r\nmarkdown is used at the end of the file\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*RawSl-kvBjMR0S_aK3bsrw.png)\r\n\r\nwarn is found to be used in catch block\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*La0XFcdpQVEKiyzf2HzTfQ.png)\r\n\r\ndanger is further used in 5 places and below is its usecase:\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*sIakwWoNU_74UWY5ZBVAiQ.png)\r\n\r\n```plaintext\r\n\r\n// Details specific to the git changes within the code changes. Currently, this is just the raw file paths that have been added, removed or modified.\r\ndanger.git: GitDSL\r\n```\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\nI am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1. [https://danger.systems/js/](https://danger.systems/js/)\r\n    \r\n2. [https://github.com/facebook/react/blob/main/dangerfile.js](https://github.com/facebook/react/blob/main/dangerfile.js)\r\n    \r\n3. [https://github.com/facebook/react/pull/31013](https://github.com/facebook/react/pull/31013)\r\n",
    "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),w=(t,e)=>{for(var r in e)a(t,r,{get:e[r],enumerable:!0})},c=(t,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of g(e))!f.call(t,i)&&i!==r&&a(t,i,{get:()=>e[i],enumerable:!(s=m(e,i))||s.enumerable});return t};var y=(t,e,r)=>(r=t!=null?p(u(t)):{},c(e||!t||!t.__esModule?a(r,\"default\",{value:t,enumerable:!0}):r,t)),k=t=>c(a({},\"__esModule\",{value:!0}),t);var o=b((D,h)=>{h.exports=_jsx_runtime});var j={};w(j,{default:()=>l,frontmatter:()=>v});var n=y(o()),v={title:\"Stop saying \\u201Cyou forgot to \\u2026\\u201D in code review\"};function d(t){let e={a:\"a\",code:\"code\",div:\"div\",h1:\"h1\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"In this article, we analyse a file named \",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/dangerfile.js\",children:\"dangerfile.js\"}),\" in React source code.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*5CsCitxiOUMGLB4kBiiRxg.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The above screenshot is from \",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/dangerfile.js\",children:\"React source code\"}),\".\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"what-is-dangerjs\",children:(0,n.jsx)(e.strong,{children:\"What is Danger.js?\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Danger runs during your CI process, and gives your team the chance to automate common code review chores such as enforcing changelogs, encouraging smaller PRs, show useful info on a PR.\"}),`\n`,(0,n.jsx)(e.p,{children:\"This provides another logical step in your build, through this Danger can help lint your rote tasks in daily code review.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Danger leaves messages inside your PRs based on rules that you create with JavaScript or TypeScript.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Over time, as rules are adhered to, the message is amended to reflect the current state of the code review.\"}),`\n`,(0,n.jsx)(e.h1,{id:\"an-example-from-react-pr\",children:(0,n.jsx)(e.strong,{children:\"An example from React PR:\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*ozkVVfTl4ywx-NuLLJgeow.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"This \",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/pull/31013#issuecomment-2364645268\",children:\"pull request has a comment\"}),\" left by dangerJs about critical size changes.\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"danger-has-good-documentation\",children:(0,n.jsx)(e.strong,{children:\"Danger has good documentation:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Dangerjs provides good documentation:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://danger.systems/js/guides/getting_started\",children:\"Getting Started with Danger JS\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://danger.systems/js/usage/extending-danger\",children:\"Extending Dange\"}),\"r\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://danger.systems/js/tutorials/node-library\",children:\"Danger + Node Library\"})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"There\\u2019s more do checkout \",(0,n.jsx)(e.a,{href:\"https://danger.systems/js/\",children:\"dangerjs website\"}),\".\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"an-overview-of-reactdangerfilejs\",children:(0,n.jsx)(e.strong,{children:\"An overview of react/dangerfile.js\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*8qD2sdeATINYu3Jrhz33Hw.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"From the looks of \",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/dangerfile.js\",children:\"react/dangerfile.js\"}),\", React uses this file mainly to compute critical built size changes.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*WedCb8yAv_xkaVYiQ7Iy0Q.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"const {markdown, danger, warn} = require('danger');\"})})})})}),`\n`,(0,n.jsx)(e.p,{children:\"This import is found at the top of the file. Let\\u2019s find out what these functions are and how they are used in react/dangerfile.js.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"markdown and warn, these are the functions which you use in rules to provide feedback during code review. Assuming Danger has access to write a comment, then \",(0,n.jsx)(e.code,{children:\"warn\"}),\"and \",(0,n.jsx)(e.code,{children:\"markdown\"}),\" will report directly inline.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"// Adds raw markdown into the Danger comment, under the table\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"markdown(message: MarkdownString, file?: string, line?: number) => void\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"// Highlights low-priority issues, but does not fail the build. Message is shown inside a HTML table.\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"warn(message: MarkdownString, file?: string, line?: number) => void\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"markdown is used at the end of the file\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*RawSl-kvBjMR0S_aK3bsrw.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.p,{children:\"warn is found to be used in catch block\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*La0XFcdpQVEKiyzf2HzTfQ.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.p,{children:\"danger is further used in 5 places and below is its usecase:\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*sIakwWoNU_74UWY5ZBVAiQ.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"// Details specific to the git changes within the code changes. Currently, this is just the raw file paths that have been added, removed or modified.\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"danger.git: GitDSL\"})})]})})}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h1,{id:\"references\",children:(0,n.jsx)(e.strong,{children:\"References:\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://danger.systems/js/\",children:\"https://danger.systems/js/\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/dangerfile.js\",children:\"https://github.com/facebook/react/blob/main/dangerfile.js\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/pull/31013\",children:\"https://github.com/facebook/react/pull/31013\"})}),`\n`]}),`\n`]})]})}function l(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(d,{...t})}):d(t)}return k(j);})();\n;return Component;"
  },
  "_id": "blog/Stop-saying-you-forgot-to.mdx",
  "_raw": {
    "sourceFilePath": "blog/Stop-saying-you-forgot-to.mdx",
    "sourceFileName": "Stop-saying-you-forgot-to.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/Stop-saying-you-forgot-to"
  },
  "type": "Doc",
  "slug": "/blog/Stop-saying-you-forgot-to",
  "slugAsParams": "Stop-saying-you-forgot-to"
}