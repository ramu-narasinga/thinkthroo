{
  "title": "FlowFixMe in React source code\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nIn this article, we analyze few instances of [Flow](https://flow.org/) usage  \r\nin [React source code](https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18)\r\n\r\n# **What’s Flow?**\r\n\r\n[Flow](https://flow.org/) is a static type checker for JavaScript. Flow’s installation is easy and straightforward.\r\n\r\nDo checkout [Flow’s Installation docs](https://flow.org/en/docs/install/).\r\n\r\nIt is important to have @flow flag as a comment in the Javascript files where you need static type checking. [Read more](https://flow.org/en/docs/usage/#toc-prepare-your-code-for-flow).\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*agJT6ZYais7Eccd32v8BuA.png)\r\n\r\nWe pick few instances of Flow usage in React source code.\r\n\r\n1. [$FlowFixMe](https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18)\r\n    \r\n\r\n```plaintext\r\n$FlowFixMe[invalid-computed-prop]\r\n```\r\n\r\nRead more at [https://flow.org/en/docs/strict/#toc-adoption](https://flow.org/en/docs/strict/#toc-adoption)\r\n\r\n2\\. [Types and Interfaces in packages/shared/ReactTypes.js](https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22)\r\n\r\n```plaintext\r\n// picked from https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22\r\n…\r\nexport type ReactPortal = {\r\n $$typeof: symbol | number,\r\n key: null | string,\r\n containerInfo: any,\r\n children: ReactNodeList,\r\n // TODO: figure out the API for cross-renderer implementation.\r\n implementation: any,\r\n};\r\n// The subset of a Promise that React APIs rely on. This resolves a value.\r\n// This doesn't require a return value neither from the handler nor the\r\n// then function.\r\ninterface ThenableImpl<T> {\r\n then(\r\n onFulfill: (value: T) => mixed,\r\n onReject: (error: mixed) => mixed,\r\n ): void | Wakeable;\r\n}\r\n```\r\n\r\nRead more about [interfaces](https://flow.org/en/docs/types/interfaces/) and [types](https://flow.org/en/docs/types/utilities/)\r\n\r\nFlow DX feels very much like TypeScript. Typescript made its first release in Oct, 2012 and Flow made its first release in Nov, 2014.\r\n\r\n# **Check your code:**\r\n\r\nThe great thing about Flow is that you can get near real-time feedback  \r\non the state of your code. At any point that you want to check for errors,  \r\njust run:\r\n\r\n```plaintext\r\n# equivalent to `flow status`\r\nflow\r\n```\r\n\r\nThe first time this is run, the Flow background process will be spawned and all of your Flow files will be checked. Then, as you continue to iterate on your project, the background process will continuously monitor your code such that when you run flow again, the updated result will be near instantaneous.\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\nI am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1\\. [https://flow.org/en/docs/errors/](https://flow.org/en/docs/errors/)  \r\n2.[https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18](https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18)  \r\n3.[https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22](https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22)  \r\n4\\. [https://engineering.fb.com/2014/11/18/web/flow-a-new-static-type-checker-for-javascript/](https://engineering.fb.com/2014/11/18/web/flow-a-new-static-type-checker-for-javascript/)  \r\n5\\. [https://flow.org/en/docs/strict/#toc-adoption](https://flow.org/en/docs/strict/#toc-adoption)  \r\n6\\. [https://flow.org/en/docs/errors/](https://flow.org/en/docs/errors/)\r\n\r\n[  \r\n](https://medium.com/tag/javascript?source=post_page-----89987b466b37--------------------------------)\r\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var b=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var t in e)c(a,t,{get:e[t],enumerable:!0})},s=(a,e,t,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of u(e))!g.call(a,r)&&r!==t&&c(a,r,{get:()=>e[r],enumerable:!(i=m(e,r))||i.enumerable});return a};var y=(a,e,t)=>(t=a!=null?p(f(a)):{},s(e||!a||!a.__esModule?c(t,\"default\",{value:a,enumerable:!0}):t,a)),k=a=>s(c({},\"__esModule\",{value:!0}),a);var l=b((x,o)=>{o.exports=_jsx_runtime});var N={};w(N,{default:()=>d,frontmatter:()=>j});var n=y(l()),j={title:\"FlowFixMe in React source code\"};function h(a){let e={a:\"a\",br:\"br\",code:\"code\",div:\"div\",h1:\"h1\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"In this article, we analyze few instances of \",(0,n.jsx)(e.a,{href:\"https://flow.org/\",children:\"Flow\"}),\" usage\",(0,n.jsx)(e.br,{}),`\n`,\"in \",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18\",children:\"React source code\"})]}),`\n`,(0,n.jsx)(e.h1,{id:\"whats-flow\",children:(0,n.jsx)(e.strong,{children:\"What\\u2019s Flow?\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://flow.org/\",children:\"Flow\"}),\" is a static type checker for JavaScript. Flow\\u2019s installation is easy and straightforward.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Do checkout \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/install/\",children:\"Flow\\u2019s Installation docs\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"It is important to have @flow flag as a comment in the Javascript files where you need static type checking. \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/usage/#toc-prepare-your-code-for-flow\",children:\"Read more\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*agJT6ZYais7Eccd32v8BuA.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.p,{children:\"We pick few instances of Flow usage in React source code.\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18\",children:\"$FlowFixMe\"})}),`\n`]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"$FlowFixMe[invalid-computed-prop]\"})})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Read more at \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/strict/#toc-adoption\",children:\"https://flow.org/en/docs/strict/#toc-adoption\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"2. \",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22\",children:\"Types and Interfaces in packages/shared/ReactTypes.js\"})]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"// picked from https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"\\u2026\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"export type ReactPortal = {\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" $$typeof: symbol | number,\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" key: null | string,\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" containerInfo: any,\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" children: ReactNodeList,\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" // TODO: figure out the API for cross-renderer implementation.\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" implementation: any,\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"// The subset of a Promise that React APIs rely on. This resolves a value.\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"// This doesn't require a return value neither from the handler nor the\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"// then function.\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"interface ThenableImpl<T> {\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" then(\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" onFulfill: (value: T) => mixed,\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" onReject: (error: mixed) => mixed,\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\" ): void | Wakeable;\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Read more about \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/types/interfaces/\",children:\"interfaces\"}),\" and \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/types/utilities/\",children:\"types\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"Flow DX feels very much like TypeScript. Typescript made its first release in Oct, 2012 and Flow made its first release in Nov, 2014.\"}),`\n`,(0,n.jsx)(e.h1,{id:\"check-your-code\",children:(0,n.jsx)(e.strong,{children:\"Check your code:\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The great thing about Flow is that you can get near real-time feedback\",(0,n.jsx)(e.br,{}),`\n`,\"on the state of your code. At any point that you want to check for errors,\",(0,n.jsx)(e.br,{}),`\n`,\"just run:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"# equivalent to `flow status`\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"flow\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"The first time this is run, the Flow background process will be spawned and all of your Flow files will be checked. Then, as you continue to iterate on your project, the background process will continuously monitor your code such that when you run flow again, the updated result will be near instantaneous.\"}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h1,{id:\"references\",children:(0,n.jsx)(e.strong,{children:\"References:\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"1. \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/errors/\",children:\"https://flow.org/en/docs/errors/\"}),(0,n.jsx)(e.br,{}),`\n`,\"2.\",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18\",children:\"https://github.com/facebook/react/blob/main/packages/react/src/ReactChildren.js#L45C8-L45C18\"}),(0,n.jsx)(e.br,{}),`\n`,\"3.\",(0,n.jsx)(e.a,{href:\"https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22\",children:\"https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L22\"}),(0,n.jsx)(e.br,{}),`\n`,\"4. \",(0,n.jsx)(e.a,{href:\"https://engineering.fb.com/2014/11/18/web/flow-a-new-static-type-checker-for-javascript/\",children:\"https://engineering.fb.com/2014/11/18/web/flow-a-new-static-type-checker-for-javascript/\"}),(0,n.jsx)(e.br,{}),`\n`,\"5. \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/strict/#toc-adoption\",children:\"https://flow.org/en/docs/strict/#toc-adoption\"}),(0,n.jsx)(e.br,{}),`\n`,\"6. \",(0,n.jsx)(e.a,{href:\"https://flow.org/en/docs/errors/\",children:\"https://flow.org/en/docs/errors/\"})]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.a,{href:\"https://medium.com/tag/javascript?source=post_page-----89987b466b37--------------------------------\",children:[(0,n.jsx)(e.br,{}),`\n`]})})]})}function d(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(h,{...a})}):h(a)}return k(N);})();\n;return Component;"
  },
  "_id": "blog/FlowFixMe-in-React-source.mdx",
  "_raw": {
    "sourceFilePath": "blog/FlowFixMe-in-React-source.mdx",
    "sourceFileName": "FlowFixMe-in-React-source.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/FlowFixMe-in-React-source"
  },
  "type": "Doc",
  "slug": "/blog/FlowFixMe-in-React-source",
  "slugAsParams": "FlowFixMe-in-React-source"
}