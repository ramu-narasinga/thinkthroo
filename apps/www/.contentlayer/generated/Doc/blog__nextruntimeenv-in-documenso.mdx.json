{
  "title": "next-runtime-env usage in Documenso source code\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nIn this article, we analyse `next-runtime-env` usage in [Documenso source code](https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L2) and what is `next-runtime-env`.\r\n\r\n![](https://cdn-images-1.medium.com/max/1600/1*Ya-10RsM-QMMpFnP0I7x9A.png)\r\n\r\n### What is next-runtime-env?\r\n\r\nUsing `next-runtime-env`, you can effortlessly populate your environment at runtime, not just at build time. Read more about [next-runtime-env](https://www.npmjs.com/package/next-runtime-env).\r\n\r\nnext-runtime-env dynamically injects environment variables into your Next.js application at runtime. This approach adheres to the “build once, deploy many” principle, allowing the same build to be used across various environments without rebuilds.\r\n\r\n#### Quick start\r\n\r\n1. Add `PublicEnvScript` in the root layout.tsx.\r\n    \r\n\r\n```js\r\n// app/layout.tsx\r\nimport { PublicEnvScript } from 'next-runtime-env';\r\nexport default function RootLayout({ children }) {\r\n return (\r\n   <html lang=\"en\">\r\n     <head>\r\n       <PublicEnvScript />\r\n     </head>\r\n     <body>\r\n       {children}\r\n     </body>\r\n   </html>\r\n );\r\n}\r\n```\r\n\r\nThe PublicEnvScript component automatically exposes all environment variables prefixed with NEXT\\_PUBLIC\\_ to the browser\r\n\r\n2\\. Access your environment variables.\r\n\r\n```js\r\n// app/client-page.tsx\r\n'use client';\r\n\r\nimport { env } from 'next-runtime-env';\r\n\r\nexport default function SomePage() {\r\n const NEXT_PUBLIC_FOO = env('NEXT_PUBLIC_FOO');\r\n return <main>NEXT_PUBLIC_FOO: {NEXT_PUBLIC_FOO}</main>;\r\n}\r\n```\r\n\r\n### next-runtime-env usage in Documenso\r\n\r\nBased on the documentation, the first step was to add PublicEnvScript in the root layout. You will find this in [app/layout.tsx](https://github.com/documenso/documenso/blob/main/apps/web/src/app/layout.tsx#L73).\r\n\r\n```js\r\n<head>\r\n <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-touch-icon.png\" />\r\n <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/favicon-32x32.png\" />\r\n <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/favicon-16x16.png\" />\r\n <link rel=\"manifest\" href=\"/site.webmanifest\" />\r\n {IS_APP_WEB_I18N_ENABLED && <meta name=\"google\" content=\"notranslate\" />}\r\n <PublicEnvScript />\r\n</head>\r\n```\r\n\r\nAnd the next step was accesing `env` variables. One such example is found in [put-file.ts](https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L49)\r\n\r\n```js\r\nexport const putFile = async (file: File) => {\r\n  \r\n  const NEXT_PUBLIC_UPLOAD_TRANSPORT = env('NEXT_PUBLIC_UPLOAD_TRANSPORT');\r\n\r\n  return await match(NEXT_PUBLIC_UPLOAD_TRANSPORT)\r\n   .with('s3', async () => putFileInS3(file))\r\n   .otherwise(async () => putFileInDatabase(file));\r\n};\r\n```\r\n\r\nHere `env` is used to access an environment variable called `NEXT_PUBLIC_UPLOAD_TRANSPORT`. This way, when you change your env variables, you don’t have to rebuild your Next.js application.\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\nI am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n### References:\r\n\r\n1. [https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L2](https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L2)\r\n    \r\n2. [https://www.npmjs.com/package/next-runtime-env](https://www.npmjs.com/package/next-runtime-env)",
    "code": "var Component=(()=>{var d=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var c in e)r(l,c,{get:e[c],enumerable:!0})},a=(l,e,c,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of y(e))!u.call(l,s)&&s!==c&&r(l,s,{get:()=>e[s],enumerable:!(o=p(e,s))||o.enumerable});return l};var b=(l,e,c)=>(c=l!=null?d(m(l)):{},a(e||!l||!l.__esModule?r(c,\"default\",{value:l,enumerable:!0}):c,l)),N=l=>a(r({},\"__esModule\",{value:!0}),l);var i=g((_,F)=>{F.exports=_jsx_runtime});var x={};f(x,{default:()=>h,frontmatter:()=>v});var n=b(i()),v={title:\"next-runtime-env usage in Documenso source\\xA0code\"};function t(l){let e={a:\"a\",code:\"code\",div:\"div\",h1:\"h1\",h3:\"h3\",h4:\"h4\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"In this article, we analyse \",(0,n.jsx)(e.code,{children:\"next-runtime-env\"}),\" usage in \",(0,n.jsx)(e.a,{href:\"https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L2\",children:\"Documenso source code\"}),\" and what is \",(0,n.jsx)(e.code,{children:\"next-runtime-env\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/1600/1*Ya-10RsM-QMMpFnP0I7x9A.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.h3,{id:\"what-is-next-runtime-env\",children:\"What is next-runtime-env?\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Using \",(0,n.jsx)(e.code,{children:\"next-runtime-env\"}),\", you can effortlessly populate your environment at runtime, not just at build time. Read more about \",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/next-runtime-env\",children:\"next-runtime-env\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:\"next-runtime-env dynamically injects environment variables into your Next.js application at runtime. This approach adheres to the \\u201Cbuild once, deploy many\\u201D principle, allowing the same build to be used across various environments without rebuilds.\"}),`\n`,(0,n.jsx)(e.h4,{id:\"quick-start\",children:\"Quick start\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Add \",(0,n.jsx)(e.code,{children:\"PublicEnvScript\"}),\" in the root layout.tsx.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" app/layout.tsx\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" PublicEnvScript \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'next-runtime-env'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" RootLayout\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"({\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" children \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"})\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"html lang\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"en\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"     <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"head\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"       <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"PublicEnvScript \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"     </\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"head\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"     <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"body\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"       {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"children\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"     </\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"body\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   </\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"html\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" );\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"The PublicEnvScript component automatically exposes all environment variables prefixed with NEXT_PUBLIC_ to the browser\"}),`\n`,(0,n.jsx)(e.p,{children:\"2. Access your environment variables.\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" app/client-page.tsx\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'use client'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" env \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'next-runtime-env'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" SomePage\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" NEXT_PUBLIC_FOO \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" env\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'NEXT_PUBLIC_FOO'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"main\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"NEXT_PUBLIC_FOO: \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"NEXT_PUBLIC_FOO\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}</\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"main\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">;\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.h3,{id:\"next-runtime-env-usage-in-documenso\",children:\"next-runtime-env usage in Documenso\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Based on the documentation, the first step was to add PublicEnvScript in the root layout. You will find this in \",(0,n.jsx)(e.a,{href:\"https://github.com/documenso/documenso/blob/main/apps/web/src/app/layout.tsx#L73\",children:\"app/layout.tsx\"}),\".\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"head\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"link rel\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"apple-touch-icon\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" sizes\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"180x180\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" href\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"/apple-touch-icon.png\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"link rel\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"icon\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" type\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"image/png\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" sizes\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"32x32\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" href\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"/favicon-32x32.png\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"link rel\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"icon\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" type\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"image/png\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" sizes\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"16x16\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" href\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"/favicon-16x16.png\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"link rel\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"manifest\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" href\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"/site.webmanifest\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"IS_APP_WEB_I18N_ENABLED \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"&&\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"meta name\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"google\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" content\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"notranslate\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" />}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" <\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"PublicEnvScript \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"head\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"And the next step was accesing \",(0,n.jsx)(e.code,{children:\"env\"}),\" variables. One such example is found in \",(0,n.jsx)(e.a,{href:\"https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L49\",children:\"put-file.ts\"})]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"js\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"js\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" putFile\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"file\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" File\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  \"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" NEXT_PUBLIC_UPLOAD_TRANSPORT \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" env\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'NEXT_PUBLIC_UPLOAD_TRANSPORT'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" await\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" match\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"NEXT_PUBLIC_UPLOAD_TRANSPORT\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   .\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"with\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'s3'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" putFileInS3\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"file\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   .\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"otherwise\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(async\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" putFileInDatabase\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"file\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"));\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Here \",(0,n.jsx)(e.code,{children:\"env\"}),\" is used to access an environment variable called \",(0,n.jsx)(e.code,{children:\"NEXT_PUBLIC_UPLOAD_TRANSPORT\"}),\". This way, when you change your env variables, you don\\u2019t have to rebuild your Next.js application.\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h3,{id:\"references\",children:\"References:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L2\",children:\"https://github.com/documenso/documenso/blob/main/packages/lib/universal/upload/put-file.ts#L2\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/next-runtime-env\",children:\"https://www.npmjs.com/package/next-runtime-env\"})}),`\n`]}),`\n`]})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(t,{...l})}):t(l)}return N(x);})();\n;return Component;"
  },
  "_id": "blog/nextruntimeenv-in-documenso.mdx",
  "_raw": {
    "sourceFilePath": "blog/nextruntimeenv-in-documenso.mdx",
    "sourceFileName": "nextruntimeenv-in-documenso.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/nextruntimeenv-in-documenso"
  },
  "type": "Doc",
  "slug": "/blog/nextruntimeenv-in-documenso",
  "slugAsParams": "nextruntimeenv-in-documenso"
}