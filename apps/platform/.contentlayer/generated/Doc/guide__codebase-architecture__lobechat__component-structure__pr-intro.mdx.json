{
  "title": "Component structure in Lobechat\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\n# Directory Structure\r\n\r\nThe directory structure of LobeChat is as follows:\r\n\r\n```bash\r\nsrc\r\n├── app        # Main logic and state management related code for the application\r\n├── components # Reusable UI components\r\n├── config     # Application configuration files, including client-side and server-side environment variables\r\n├── const      # Used to define constants, such as action types, route names, etc.\r\n├── features   # Function modules related to business functions, such as agent settings, plugin development pop-ups, etc.\r\n├── hooks      # Custom utility hooks reused throughout the application\r\n├── layout     # Application layout components, such as navigation bars, sidebars, etc.\r\n├── locales    # Internationalization language files\r\n├── services   # Encapsulated backend service interfaces, such as HTTP requests\r\n├── store      # Zustand store for state management\r\n├── types      # TypeScript type definition files\r\n└── utils      # Common utility functions\r\n```\r\n\r\n## app\r\n\r\nIn the `app` folder, we organize each route page according to the app router's [Route Groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups) to separately handle the implementation of desktop and mobile code. Taking the file structure of the `welcome` page as an example:\r\n\r\n```bash\r\nwelcome\r\n├── (desktop)               # Desktop implementation\r\n│   ├── features            # Desktop-specific features\r\n│   ├── index.tsx           # Main entry file for desktop\r\n│   └── layout.desktop.tsx  # Desktop layout component\r\n├── (mobile)                # Mobile implementation\r\n│   ├── features            # Mobile-specific features\r\n│   ├── index.tsx           # Main entry file for mobile\r\n│   └── layout.mobile.tsx   # Mobile layout component\r\n├── features                # This folder contains features code shared by both desktop and mobile, such as the Banner component\r\n│   └── Banner\r\n└── page.tsx                # This is the main entry file for the page, used to load desktop or mobile code based on the device type\r\n```\r\n\r\nIn this way, we can clearly distinguish and manage desktop and mobile code, while also easily reusing code required on both devices, thereby improving development efficiency and maintaining code cleanliness and maintainability.\r\n\r\n## chat \r\n\r\nIn the `chat` folder, we organize this `chat` route according to app router's [Route Group](https://nextjs.org/docs/app/building-your-application/routing/route-groups)\r\nand the [Parallel Routes](https://nextjs.org/docs/app/building-your-application/routing/parallel-routes). \r\nWe use parallel routing to render `@sessions` and `(workspace)` is a route group that contains parallel\r\nroutes such as `@conversation`, ",
    "code": "var Component=(()=>{var h=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var o in e)t(l,o,{get:e[o],enumerable:!0})},c=(l,e,o,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of y(e))!m.call(l,s)&&s!==o&&t(l,s,{get:()=>e[s],enumerable:!(r=p(e,s))||r.enumerable});return l};var b=(l,e,o)=>(o=l!=null?h(u(l)):{},c(e||!l||!l.__esModule?t(o,\"default\",{value:l,enumerable:!0}):o,l)),W=l=>c(t({},\"__esModule\",{value:!0}),l);var i=g((k,a)=>{a.exports=_jsx_runtime});var x={};f(x,{default:()=>d,frontmatter:()=>N});var n=b(i()),N={title:\"Component structure in Lobechat\"};function F(l){let e={a:\"a\",code:\"code\",div:\"div\",h1:\"h1\",h2:\"h2\",p:\"p\",pre:\"pre\",span:\"span\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{id:\"directory-structure\",children:\"Directory Structure\"}),`\n`,(0,n.jsx)(e.p,{children:\"The directory structure of LobeChat is as follows:\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"src\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" app\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"        #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Main logic and state management related code for the application\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" components\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Reusable UI components\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" config\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"     #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Application configuration files, including client-side and server-side environment variables\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Used to define constants, such as action types, route names, etc.\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" features\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Function modules related to business functions, such as agent settings, plugin development pop-ups, etc.\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" hooks\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Custom utility hooks reused throughout the application\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" layout\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"     #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Application layout components, such as navigation bars, sidebars, etc.\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" locales\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Internationalization language files\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" services\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Encapsulated backend service interfaces, such as HTTP requests\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" store\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Zustand store for state management\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" types\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" TypeScript type definition files\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2514\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" utils\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Common utility functions\"})]})]})})}),`\n`,(0,n.jsx)(e.h2,{id:\"app\",children:\"app\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"In the \",(0,n.jsx)(e.code,{children:\"app\"}),\" folder, we organize each route page according to the app router's \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/app/building-your-application/routing/route-groups\",children:\"Route Groups\"}),\" to separately handle the implementation of desktop and mobile code. Taking the file structure of the \",(0,n.jsx)(e.code,{children:\"welcome\"}),\" page as an example:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"welcome\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" (desktop)               \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"#\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Desktop implementation\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2502\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   \\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" features\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"            #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Desktop-specific features\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2502\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   \\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" index.tsx\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"           #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Main entry file for desktop\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2502\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   \\u2514\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" layout.desktop.tsx\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Desktop layout component\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" (mobile)                \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"#\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Mobile implementation\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2502\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   \\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" features\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"            #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Mobile-specific features\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2502\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   \\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" index.tsx\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"           #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Main entry file for mobile\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2502\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   \\u2514\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" layout.mobile.tsx\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Mobile layout component\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u251C\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" features\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"                #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" This folder contains features code shared by both desktop and mobile, such as the Banner component\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2502\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"   \\u2514\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" Banner\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"\\u2514\\u2500\\u2500\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" page.tsx\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"                #\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" This is the main entry file for the page, used to load desktop or mobile code based on the device type\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"In this way, we can clearly distinguish and manage desktop and mobile code, while also easily reusing code required on both devices, thereby improving development efficiency and maintaining code cleanliness and maintainability.\"}),`\n`,(0,n.jsx)(e.h2,{id:\"chat\",children:\"chat\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"In the \",(0,n.jsx)(e.code,{children:\"chat\"}),\" folder, we organize this \",(0,n.jsx)(e.code,{children:\"chat\"}),\" route according to app router's \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/app/building-your-application/routing/route-groups\",children:\"Route Group\"}),`\\r\nand the `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/app/building-your-application/routing/parallel-routes\",children:\"Parallel Routes\"}),`.\\r\nWe use parallel routing to render `,(0,n.jsx)(e.code,{children:\"@sessions\"}),\" and \",(0,n.jsx)(e.code,{children:\"(workspace)\"}),` is a route group that contains parallel\\r\nroutes such as `,(0,n.jsx)(e.code,{children:\"@conversation\"}),\",\"]})]})}function d(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(F,{...l})}):F(l)}return W(x);})();\n;return Component;"
  },
  "_id": "guide/codebase-architecture/lobechat/component-structure/pr-intro.mdx",
  "_raw": {
    "sourceFilePath": "guide/codebase-architecture/lobechat/component-structure/pr-intro.mdx",
    "sourceFileName": "pr-intro.mdx",
    "sourceFileDir": "guide/codebase-architecture/lobechat/component-structure",
    "contentType": "mdx",
    "flattenedPath": "guide/codebase-architecture/lobechat/component-structure/pr-intro"
  },
  "type": "Doc",
  "slug": "/guide/codebase-architecture/lobechat/component-structure/pr-intro",
  "slugAsParams": "codebase-architecture/lobechat/component-structure/pr-intro"
}