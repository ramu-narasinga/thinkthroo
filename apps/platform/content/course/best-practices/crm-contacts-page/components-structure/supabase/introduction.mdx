[Components Structure inspired by Supabase]:
[L: Introduction]

In this course, we apply the [Supabase architectural concept, components structure](link-to-guide) 
to the project you built in this [setup course](link-to-course).

As you progress through this course, you will make some decisions on 
how to structure your components and at the same time, consider the tradeoffs. 

For example: 
- Breaking down a large file into smaller components and placing them 
in a common `components` folder at root/src level would be fine for now 
as you are only dealing with Contacts page.
- But should you refactor your components structure as your application grows? the answer is yes. 
- What principles should you follow? Find out how to apply a components strcture similar 
to Supabase in this course.

Pre-requisites:
- You must have a basic understanding of Next.js
- You must have completed this [set up course](link-to-course) as that code is used to 
refactor and upgrade the components structure.

Refactor the large Contacts file into smaller components and organize/structure these components 
in a folder, following the [Supabase architectural concept, components structure](link-to-guide)

[L: Refactor Sidebar ]
# Challenge
In this challenge, you are expected to refactor the sidebar in the Contacts page 
by moving the sidebar related code into a separate file and folder.

How to solve this challenge?
1. You can place this sidebar in any file/folder you want and name it as you wish, but to 
practice the Supabase architecture, try to match your folder organization to that of Supabase's.
2. Navigate to [Supabase studio](https://github.com/supabase/supabase/tree/master/apps/studio) 
and study and figure out the how the sidebar is implemented in the Supabase dashboard. 

[Insert screenshot here of the dashboard sidebar]

3. Follow the same file organization and naming convention patterns as WithSidebar to refactor this sidebar. 

Hint 1:
You can find that [WithSidebar](https://github.com/supabase/supabase/blob/d75161e88d2502c5de4fdc2a8c164e1603dc1fac/apps/studio/components/layouts/AccountLayout/WithSidebar.tsx#L5)
is located inside `studio/components/layouts/AccountLayout` folder.

Hint 2:
Read about the components structure officially documented in the Supabase's [studio/components folder](https://github.com/supabase/supabase/tree/d75161e88d2502c5de4fdc2a8c164e1603dc1fac/apps/studio/components)

# Solution

[Insert video explanation]

The way the sidebar is implemented in Supabase involves changes to our Layout. Let's start 
there by creating necessary folder and files and then let's compare our components 
structure to that of Supabase's.

At the time of writing this guide, Supabase used pages router but the way components are 
organized is still applicable to app router.

At the root level, let's create a folder named `components`. Now, let's create a new folder named 
`layouts` inside `components` folder. 

Now we need to decide the name to be used here, we shall name it DashboardLayout. You can choose any name
you want, but make sure it makes sense to name it that way to fit the context for this layout as this 
is the common layout we will be using across the app. Comes handy when you add more modules like companies 
and kanban board in the [Production-grade projects course](link-to-course).

Let's create a folder named DashboardLayout inside `components/layouts` folder. Create another file named
`DashboardLayout.tsx`.

Ideally, you would want to put your meta configuration, header and footer in the RootLayout 
which is `app/layout.tsx`

main layout containing Sidebar can be placed inside `DashboardLayout.tsx`. 

At this point, add the below code in `DashboardLayout.tsx`:

```
export default function DashboardLayout({ children }) {
  return
}
```

Let's now create a file named `WithSidebar.tsx` at the same level as DashboardLayout.tsx and add the below code into
it:

```
export default function WithSidebar() {
  return (
  [TODO: put the sidebar code here]
  )
}
```

[L: Refactor Header ]
# Challenge

In this challenge, you are expected to refactor the header in the Contacts page 
by moving the header related code into a separate file and folder.

How to solve this challenge?
1. You can place this header in any file/folder you want and name it as you wish, but to 
practice the Supabase architecture, try to match your folder organization to that of Supabase's.
2. Navigate to [Supabase studio](https://github.com/supabase/supabase/tree/f6cf84858e73f91c2071a3fcac061691a8031679/apps/studio/components/layouts/ProjectLayout/LayoutHeader) 
and study and figure out how the header is implemented in the Supabase dashboard's projects page. 

[Insert screenshot here of the dashboard header]

3. Follow the same file organization and naming convention patterns as WithSidebar to refactor this sidebar. 

Hint 1:
You can find that [LayoutHeader](https://github.com/supabase/supabase/tree/f6cf84858e73f91c2071a3fcac061691a8031679/apps/studio/components/layouts/ProjectLayout/LayoutHeader)
is located inside `studio/components/layouts/AccountLayout` folder.

Hint 2:
Read about the components structure officially documented in the Supabase's [studio/components folder](https://github.com/supabase/supabase/tree/d75161e88d2502c5de4fdc2a8c164e1603dc1fac/apps/studio/components)


# Solution

You will find [LayoutHeader.tsx](https://github.com/supabase/supabase/tree/f6cf84858e73f91c2071a3fcac061691a8031679/apps/studio/components/layouts/ProjectLayout/LayoutHeader)
in ProjectLayout. What this tells us is that you could place your Header inside `DashboardLayout` that you
created in the Sidebar lesson.

Create a file named Header.tsx in DashboardLayout folder and put the below code in that file.

```
Insert the code here for the header
```

You need to place this Header in the DashboardLayout.

```
DashboardLayout.tsx

Update the header here.
```

[C: Contacts Page]
[L: Refactor ContactHeader]
# Challenge
# Solution

[C: Contacts Page]
[L: Refactor Contacts Table]
# Challenge:
# Solution

