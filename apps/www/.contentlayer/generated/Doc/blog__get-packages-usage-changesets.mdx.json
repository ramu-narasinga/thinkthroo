{
  "title": "manypkg/get-packages usage in Changesets\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nIn this article, we analyse [@manypkg/get-packages](https://www.npmjs.com/package/@manypkg/get-packages) and its usage in [Changesets source code](https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4).\r\n\r\n### @manypkg/get-packages\r\n\r\n@manypkg/get-packages is open-source utility written by [Thinkmill](https://www.thinkmill.com.au/). It is a   \r\nsimple utility to get the packages from a monorepo, whether they’re using Yarn, Bolt, Lerna, pnpm or Rush.\r\n\r\nThis library exports getPackages and getPackagesSync. It is intended mostly for use of developers building tools that want to support different kinds of monorepos as an easy way to write tools without having to write   \r\ntool-specific code. It supports Yarn, Bolt, Lerna, pnpm, Rush and single-package repos(where the only package is the the same as the root package). This library uses @manypkg/find-root to search up from the directory   \r\nthat’s passed to getPackages or getPackagesSync to find the project root.\r\n\r\n### @manypkg/get-packages usage in Changesets\r\n\r\nSince Changesets is a monorepo, it has a package named [should-skip-package](https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4). In this package, you will find an import from @manypkg/get-packages as shown below.\r\n\r\n![](https://cdn-images-1.medium.com/max/1600/1*o_QKghWDrBGODrgrm9Tb4g.png)\r\n\r\nBut this only imports type — Package\r\n\r\nThere is another example found in [CLI package](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L40).\r\n\r\n```plaintext\r\nconst packages = await getPackages(cwd);\r\n```\r\n\r\n![](https://cdn-images-1.medium.com/max/1600/1*y2mudwTOKEX0XcVT0S4DMg.png)\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\nI am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n### References:\r\n\r\n1. [https://www.npmjs.com/package/@manypkg/get-packages](https://www.npmjs.com/package/@manypkg/get-packages)\r\n    \r\n2. [https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L5C10-L5C28](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L5C10-L5C28)\r\n    \r\n3. [https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4](https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4)\r\n    \r\n4. [https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L156](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L156)\r\n    \r\n5. [https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L168](https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L168)",
    "code": "var Component=(()=>{var l=Object.create;var c=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var b=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),f=(a,e)=>{for(var n in e)c(a,n,{get:e[n],enumerable:!0})},i=(a,e,n,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!k.call(a,s)&&s!==n&&c(a,s,{get:()=>e[s],enumerable:!(r=d(e,s))||r.enumerable});return a};var y=(a,e,n)=>(n=a!=null?l(u(a)):{},i(e||!a||!a.__esModule?c(n,\"default\",{value:a,enumerable:!0}):n,a)),w=a=>i(c({},\"__esModule\",{value:!0}),a);var o=b((C,h)=>{h.exports=_jsx_runtime});var L={};f(L,{default:()=>g,frontmatter:()=>x});var t=y(o()),x={title:\"manypkg/get-packages usage in Changesets\"};function p(a){let e={a:\"a\",br:\"br\",code:\"code\",div:\"div\",h1:\"h1\",h3:\"h3\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.p,{children:[\"In this article, we analyse \",(0,t.jsx)(e.a,{href:\"https://www.npmjs.com/package/@manypkg/get-packages\",children:\"@manypkg/get-packages\"}),\" and its usage in \",(0,t.jsx)(e.a,{href:\"https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4\",children:\"Changesets source code\"}),\".\"]}),`\n`,(0,t.jsx)(e.h3,{id:\"manypkgget-packages\",children:\"@manypkg/get-packages\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"@manypkg/get-packages is open-source utility written by \",(0,t.jsx)(e.a,{href:\"https://www.thinkmill.com.au/\",children:\"Thinkmill\"}),\". It is a\\xA0\",(0,t.jsx)(e.br,{}),`\n`,\"simple utility to get the packages from a monorepo, whether they\\u2019re using Yarn, Bolt, Lerna, pnpm or Rush.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"This library exports getPackages and getPackagesSync. It is intended mostly for use of developers building tools that want to support different kinds of monorepos as an easy way to write tools without having to write\\xA0\",(0,t.jsx)(e.br,{}),`\n`,\"tool-specific code. It supports Yarn, Bolt, Lerna, pnpm, Rush and single-package repos(where the only package is the the same as the root package). This library uses @manypkg/find-root to search up from the directory\\xA0\",(0,t.jsx)(e.br,{}),`\n`,\"that\\u2019s passed to getPackages or getPackagesSync to find the project root.\"]}),`\n`,(0,t.jsx)(e.h3,{id:\"manypkgget-packages-usage-in-changesets\",children:\"@manypkg/get-packages usage in Changesets\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"Since Changesets is a monorepo, it has a package named \",(0,t.jsx)(e.a,{href:\"https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4\",children:\"should-skip-package\"}),\". In this package, you will find an import from @manypkg/get-packages as shown below.\"]}),`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/1600/1*o_QKghWDrBGODrgrm9Tb4g.png\",alt:\"\"})}),`\n`,(0,t.jsx)(e.p,{children:\"But this only imports type\\u200A\\u2014\\u200APackage\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"There is another example found in \",(0,t.jsx)(e.a,{href:\"https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L40\",children:\"CLI package\"}),\".\"]}),`\n`,(0,t.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,t.jsx)(e.pre,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,t.jsx)(e.code,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",children:(0,t.jsx)(e.span,{className:\"line\",children:(0,t.jsx)(e.span,{children:\"const packages = await getPackages(cwd);\"})})})})}),`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/1600/1*y2mudwTOKEX0XcVT0S4DMg.png\",alt:\"\"})}),`\n`,(0,t.jsx)(e.h1,{id:\"about-me\",children:(0,t.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,t.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,t.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,t.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,t.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,t.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,t.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,t.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,t.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,t.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,t.jsx)(e.h3,{id:\"references\",children:\"References:\"}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:\"https://www.npmjs.com/package/@manypkg/get-packages\",children:\"https://www.npmjs.com/package/@manypkg/get-packages\"})}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:\"https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L5C10-L5C28\",children:\"https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L5C10-L5C28\"})}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:\"https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4\",children:\"https://github.com/changesets/changesets/blob/main/packages/should-skip-package/src/index.ts#L4\"})}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:\"https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L156\",children:\"https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L156\"})}),`\n`]}),`\n`,(0,t.jsxs)(e.li,{children:[`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:\"https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L168\",children:\"https://github.com/changesets/changesets/blob/main/packages/cli/src/run.ts#L168\"})}),`\n`]}),`\n`]})]})}function g(a={}){let{wrapper:e}=a.components||{};return e?(0,t.jsx)(e,{...a,children:(0,t.jsx)(p,{...a})}):p(a)}return w(L);})();\n;return Component;"
  },
  "_id": "blog/get-packages-usage-changesets.mdx",
  "_raw": {
    "sourceFilePath": "blog/get-packages-usage-changesets.mdx",
    "sourceFileName": "get-packages-usage-changesets.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/get-packages-usage-changesets"
  },
  "type": "Doc",
  "slug": "/blog/get-packages-usage-changesets",
  "slugAsParams": "get-packages-usage-changesets"
}