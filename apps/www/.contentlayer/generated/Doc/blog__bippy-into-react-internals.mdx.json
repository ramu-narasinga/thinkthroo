{
  "title": "Bippy, a toolkit to hack into react internals.\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nI found an import from “bippy” in react-scan source code. I wanted to find out what this is about. In this article, you will understand the below concepts\r\n\r\n1. What is react-scan?\r\n    \r\n2. What is Bippy?\r\n    \r\n3. How did I find this package?\r\n    \r\n\r\n# **What is react-scan?**\r\n\r\n[react-scan](https://github.com/aidenybai/react-scan) helps you scan for React performance issues and eliminate slow renders in your app.\r\n\r\n## **Installation**\r\n\r\nYou can run the below command to install react-scan\r\n\r\n```javascript\r\nnpm i react-scan\r\n```\r\n\r\nRead more about [installation](https://github.com/aidenybai/react-scan?tab=readme-ov-file#install).\r\n\r\n## **Usage**\r\n\r\nreact-scan provides usage documentation.\r\n\r\nRead more about [usage](https://github.com/aidenybai/react-scan?tab=readme-ov-file#usage).\r\n\r\n# **What is Bippy?**\r\n\r\nI copied the below description from [Bippy’s readme](https://www.npmjs.com/package/bippy).\r\n\r\n[bippy](https://www.npmjs.com/package/bippy) is a toolkit to **hack into react internals**\r\n\r\nby default, you cannot access react internals. bippy bypasses this by “pretending” to be react devtools, giving you access to the fiber tree and other internals.\r\n\r\n* works outside of react — no react code modification needed\r\n    \r\n* utility functions that work across modern react (v17–19)\r\n    \r\n* no prior react source code knowledge required\r\n    \r\n\r\n```javascript\r\nimport { onCommitFiberRoot, traverseFiber } from 'bippy';\r\n\r\nonCommitFiberRoot((root) => {\r\n  traverseFiber(root.current, (fiber) => {\r\n    // prints every fiber in the current React tree\r\n    console.log('fiber:', fiber);\r\n  });\r\n});\r\n```\r\n\r\n> *\\[!WARNING\\] ⚠️⚠️⚠️* ***this project may break production apps and cause unexpected behavior*** *⚠️⚠️⚠️*\r\n> \r\n> *this project uses react internals, which can change at any time. it is not recommended to depend on internals unless you really, really have to. by proceeding, you acknowledge the risk of breaking your own code or apps that use your code.*\r\n\r\nbippy allows you to **access** and **use** react fibers **outside** of react components.\r\n\r\na react fiber is a “unit of execution.” this means react will do something based on the data in a fiber. each fiber either represents a composite (function/class component) or a host (dom element)\r\n\r\nfibers are useful because they contain information about the react app (component props, state, contexts, etc.). a simplified version of a fiber looks roughly like this:\r\n\r\n```javascript\r\ninterface Fiber {\r\n  // component type (function/class)\r\n  type: any;\r\n\r\n  child: Fiber | null;\r\n  sibling: Fiber | null;\r\n\r\n  // stateNode is the host fiber (e.g. DOM element)\r\n  stateNode: Node | null;\r\n\r\n  // parent fiber\r\n  return: Fiber | null;\r\n\r\n  // the previous or current version of the fiber\r\n  alternate: Fiber | null;\r\n\r\n  // saved props input\r\n  memoizedProps: any;\r\n\r\n  // state (useState, useReducer, useSES, etc.)\r\n  memoizedState: any;\r\n\r\n  // contexts (useContext)\r\n  dependencies: Dependencies | null;\r\n\r\n  // effects (useEffect, useLayoutEffect, etc.)\r\n  updateQueue: any;\r\n}\r\n```\r\n\r\nNow that we understand the basics, let me tell you how I ended up finding this bippy package.\r\n\r\n# **How did I find Bippy?**\r\n\r\nreact-scan has the below packages folder.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*wk1QbU03w2lUAFjDLpTjdA.png)\r\n\r\n## **scan/src/index.ts**\r\n\r\nscan is where I should be looking to understand react-scan internal source code. This below code is picked from [packages/scan/src/index.ts](https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/index.ts#L3).\r\n\r\n```javascript\r\nimport { init } from './install-hook'; // Initialize RDT hook\r\n\r\ninit();\r\n\r\nexport * from './core/index';\r\n```\r\n\r\ninit is imported from another file, [install-hook.ts](https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1)\r\n\r\n## **install-hook.ts**\r\n\r\n```javascript\r\nimport { installRDTHook } from 'bippy';\r\n\r\n// Initialize React DevTools hook\r\nconst init = () => {\r\n  installRDTHook();\r\n};\r\n\r\ninit();\r\n\r\nexport { init };\r\n```\r\n\r\nThe above code is picked from [install-hook.ts](https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1). Now init calls another function `installRDTHook()` that is imported from ‘bippy’. This is where I have found bippy and wanted to find out more about this package.\r\n\r\nBippy is written by the same author, [Aiden Bai](https://github.com/aidenybai), who also wrote react-scan.\r\n\r\n## **installRDTHook**\r\n\r\nThere is no mention of installRDT in the react-scan documentation\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*JVUagbvh6AZIatOpZtGVow.png)\r\n\r\nAnd yet it is found to be used in [install-hook.ts](https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1) as shown below\r\n\r\n```javascript\r\nimport { installRDTHook } from 'bippy';\r\n\r\n// Initialize React DevTools hook\r\nconst init = () => {\r\n  installRDTHook();\r\n};\r\n\r\ninit();\r\n\r\nexport { init };\r\n```\r\n\r\n# **About me:**\r\n\r\nHey, my name is [Ramu Narasinga](https://ramunarasinga.com/). I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\n***I am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com***\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1. [https://www.npmjs.com/package/bippy](https://www.npmjs.com/package/bippy)\r\n    \r\n2. [https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1](https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1)\r\n    \r\n3. [https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/index.ts#L3](https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/index.ts#L3)\r\n    \r\n4. [https://github.com/aidenybai/bippy/blob/e1a570110a74fc0efc7c5acd80a7b0af7f488de0/packages/bippy/src/rdt-hook.ts#L46](https://github.com/aidenybai/bippy/blob/e1a570110a74fc0efc7c5acd80a7b0af7f488de0/packages/bippy/src/rdt-hook.ts#L46)",
    "code": "var Component=(()=>{var F=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var b=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),g=(l,e)=>{for(var a in e)s(l,a,{get:e[a],enumerable:!0})},i=(l,e,a,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of y(e))!u.call(l,c)&&c!==a&&s(l,c,{get:()=>e[c],enumerable:!(r=p(e,c))||r.enumerable});return l};var f=(l,e,a)=>(a=l!=null?F(m(l)):{},i(e||!l||!l.__esModule?s(a,\"default\",{value:l,enumerable:!0}):a,l)),k=l=>i(s({},\"__esModule\",{value:!0}),l);var t=b((j,o)=>{o.exports=_jsx_runtime});var w={};g(w,{default:()=>d,frontmatter:()=>N});var n=f(t()),N={title:\"Bippy, a toolkit to hack into react internals.\"};function h(l){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",div:\"div\",em:\"em\",h1:\"h1\",h2:\"h2\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"I found an import from \\u201Cbippy\\u201D in react-scan source code. I wanted to find out what this is about. In this article, you will understand the below concepts\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"What is react-scan?\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"What is Bippy?\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"How did I find this package?\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h1,{id:\"what-is-react-scan\",children:(0,n.jsx)(e.strong,{children:\"What is react-scan?\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan\",children:\"react-scan\"}),\" helps you scan for React performance issues and eliminate slow renders in your app.\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"installation\",children:(0,n.jsx)(e.strong,{children:\"Installation\"})}),`\n`,(0,n.jsx)(e.p,{children:\"You can run the below command to install react-scan\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"npm i react\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"-\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"scan\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Read more about \",(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan?tab=readme-ov-file#install\",children:\"installation\"}),\".\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"usage\",children:(0,n.jsx)(e.strong,{children:\"Usage\"})}),`\n`,(0,n.jsx)(e.p,{children:\"react-scan provides usage documentation.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Read more about \",(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan?tab=readme-ov-file#usage\",children:\"usage\"}),\".\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"what-is-bippy\",children:(0,n.jsx)(e.strong,{children:\"What is Bippy?\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"I copied the below description from \",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/bippy\",children:\"Bippy\\u2019s readme\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/bippy\",children:\"bippy\"}),\" is a toolkit to \",(0,n.jsx)(e.strong,{children:\"hack into react internals\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"by default, you cannot access react internals. bippy bypasses this by \\u201Cpretending\\u201D to be react devtools, giving you access to the fiber tree and other internals.\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"works outside of react \\u2014 no react code modification needed\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"utility functions that work across modern react (v17\\u201319)\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"no prior react source code knowledge required\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" onCommitFiberRoot\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" traverseFiber \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'bippy'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"onCommitFiberRoot\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"root\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  traverseFiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"root\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" prints every fiber in the current React tree\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"    console\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"'fiber:'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\");\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  });\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"});\"})})]})})}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.em,{children:\"[!WARNING] \\u26A0\\uFE0F\\u26A0\\uFE0F\\u26A0\\uFE0F\"}),\" \",(0,n.jsx)(e.em,{children:(0,n.jsx)(e.strong,{children:\"this project may break production apps and cause unexpected behavior\"})}),\" \",(0,n.jsx)(e.em,{children:\"\\u26A0\\uFE0F\\u26A0\\uFE0F\\u26A0\\uFE0F\"})]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"this project uses react internals, which can change at any time. it is not recommended to depend on internals unless you really, really have to. by proceeding, you acknowledge the risk of breaking your own code or apps that use your code.\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"bippy allows you to \",(0,n.jsx)(e.strong,{children:\"access\"}),\" and \",(0,n.jsx)(e.strong,{children:\"use\"}),\" react fibers \",(0,n.jsx)(e.strong,{children:\"outside\"}),\" of react components.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"a react fiber is a \\u201Cunit of execution.\\u201D this means react will do something based on the data in a fiber. each fiber either represents a composite (function/class component) or a host (dom element)\"}),`\n`,(0,n.jsx)(e.p,{children:\"fibers are useful because they contain information about the react app (component props, state, contexts, etc.). a simplified version of a fiber looks roughly like this:\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"interface\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" component type (function/class)\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  type\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" any\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  child\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" |\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  sibling\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" |\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" stateNode is the host fiber (e.g. DOM element)\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  stateNode\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Node\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" |\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" parent fiber\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" |\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" the previous or current version of the fiber\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  alternate\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Fiber\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" |\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" saved props input\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  memoizedProps\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" any\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" state (useState, useReducer, useSES, etc.)\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  memoizedState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" any\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" contexts (useContext)\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  dependencies\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" Dependencies\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" |\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" effects (useEffect, useLayoutEffect, etc.)\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  updateQueue\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" any\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"Now that we understand the basics, let me tell you how I ended up finding this bippy package.\"}),`\n`,(0,n.jsx)(e.h1,{id:\"how-did-i-find-bippy\",children:(0,n.jsx)(e.strong,{children:\"How did I find Bippy?\"})}),`\n`,(0,n.jsx)(e.p,{children:\"react-scan has the below packages folder.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*wk1QbU03w2lUAFjDLpTjdA.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.h2,{id:\"scansrcindexts\",children:(0,n.jsx)(e.strong,{children:\"scan/src/index.ts\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"scan is where I should be looking to understand react-scan internal source code. This below code is picked from \",(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/index.ts#L3\",children:\"packages/scan/src/index.ts\"}),\".\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" init \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" './install-hook'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" //\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Initialize RDT hook\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"init\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" *\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" './core/index'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"init is imported from another file, \",(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1\",children:\"install-hook.ts\"})]}),`\n`,(0,n.jsx)(e.h2,{id:\"install-hookts\",children:(0,n.jsx)(e.strong,{children:\"install-hook.ts\"})}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" installRDTHook \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'bippy'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Initialize React DevTools hook\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" init\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  installRDTHook\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"init\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" init \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})]})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The above code is picked from \",(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1\",children:\"install-hook.ts\"}),\". Now init calls another function \",(0,n.jsx)(e.code,{children:\"installRDTHook()\"}),\" that is imported from \\u2018bippy\\u2019. This is where I have found bippy and wanted to find out more about this package.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Bippy is written by the same author, \",(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai\",children:\"Aiden Bai\"}),\", who also wrote react-scan.\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"installrdthook\",children:(0,n.jsx)(e.strong,{children:\"installRDTHook\"})}),`\n`,(0,n.jsx)(e.p,{children:\"There is no mention of installRDT in the react-scan documentation\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*JVUagbvh6AZIatOpZtGVow.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"And yet it is found to be used in \",(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1\",children:\"install-hook.ts\"}),\" as shown below\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" installRDTHook \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'bippy'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Initialize React DevTools hook\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" init\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  installRDTHook\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"init\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" init \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"};\"})]})]})})}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Hey, my name is \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"Ramu Narasinga\"}),\". I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:(0,n.jsxs)(e.strong,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h1,{id:\"references\",children:(0,n.jsx)(e.strong,{children:\"References:\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/bippy\",children:\"https://www.npmjs.com/package/bippy\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1\",children:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/install-hook.ts#L1\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/index.ts#L3\",children:\"https://github.com/aidenybai/react-scan/blob/main/packages/scan/src/index.ts#L3\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/aidenybai/bippy/blob/e1a570110a74fc0efc7c5acd80a7b0af7f488de0/packages/bippy/src/rdt-hook.ts#L46\",children:\"https://github.com/aidenybai/bippy/blob/e1a570110a74fc0efc7c5acd80a7b0af7f488de0/packages/bippy/src/rdt-hook.ts#L46\"})}),`\n`]}),`\n`]})]})}function d(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(h,{...l})}):h(l)}return k(w);})();\n;return Component;"
  },
  "_id": "blog/bippy-into-react-internals.mdx",
  "_raw": {
    "sourceFilePath": "blog/bippy-into-react-internals.mdx",
    "sourceFileName": "bippy-into-react-internals.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/bippy-into-react-internals"
  },
  "type": "Doc",
  "slug": "/blog/bippy-into-react-internals",
  "slugAsParams": "bippy-into-react-internals"
}