{
  "title": "How to check node version programmatically?\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "There’s a function named [checkNodeVersion()](https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17) in [father/src/cli/cli.ts](https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17).\r\n\r\n![](https://miro.medium.com/v2/resize:fit:875/1*6yQakQPyiNMo7cEfnESLoQ.png)\r\n\r\nThis cli file has a function named run and in there, it calls a series of functions:\r\n\r\n```javascript\r\nexport async function run(_opts?: IOpts) {\r\n  checkNodeVersion();\r\n  checkLocal();\r\n  setNodeTitle();\r\n  setNoDeprecation();\r\n  ...\r\n}\r\n```\r\n\r\n* checkNodeVersion\r\n    \r\n* checkLocal\r\n    \r\n* setNodeTitle\r\n    \r\n* setNoDepreciation\r\n    \r\n\r\nWe are interested in [checkNodeVersion](https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17)()\r\n\r\n# **checkNodeVersion**\r\n\r\ncheckNodeVersion is defined in [cli/node.ts](https://github.com/umijs/father/blob/master/src/cli/node.ts#L6)\r\n\r\n```javascript\r\nexport function checkVersion() {\r\n  const v = parseInt(process.version.slice(1));\r\n  if (v < MIN_NODE_VERSION || v === 15 || v === 17) {\r\n    logger.error(\r\n      `Your node version ${v} is not supported, please upgrade to ${MIN_NODE_VERSION} or above except 15 or 17.`,\r\n    );\r\n    process.exit(1);\r\n  }\r\n}\r\n```\r\n\r\nYou can get the current node version using this method — `process.version.slice(1)`\r\n\r\nIn this function, there’s a side-effect. process exits if the node version does not meet the criteria defined in the if block.\r\n\r\nlogger.error logs the error message when the node version is not supported.\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\n***I am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com***\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n# **References:**\r\n\r\n1. [https://github.com/umijs/father/blob/master/src/cli/node.ts#L6](https://github.com/umijs/father/blob/master/src/cli/node.ts#L6)\r\n    \r\n2. [https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17](https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17)",
    "code": "var Component=(()=>{var F=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),f=(r,e)=>{for(var l in e)s(r,l,{get:e[l],enumerable:!0})},o=(r,e,l,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of m(e))!u.call(r,c)&&c!==l&&s(r,c,{get:()=>e[c],enumerable:!(t=p(e,c))||t.enumerable});return r};var b=(r,e,l)=>(l=r!=null?F(y(r)):{},o(e||!r||!r.__esModule?s(l,\"default\",{value:r,enumerable:!0}):l,r)),N=r=>o(s({},\"__esModule\",{value:!0}),r);var a=g((x,i)=>{i.exports=_jsx_runtime});var v={};f(v,{default:()=>d,frontmatter:()=>k});var n=b(a()),k={title:\"How to check node version programmatically?\"};function h(r){let e={a:\"a\",code:\"code\",div:\"div\",em:\"em\",h1:\"h1\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"There\\u2019s a function named \",(0,n.jsx)(e.a,{href:\"https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17\",children:\"checkNodeVersion()\"}),\" in \",(0,n.jsx)(e.a,{href:\"https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17\",children:\"father/src/cli/cli.ts\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://miro.medium.com/v2/resize:fit:875/1*6yQakQPyiNMo7cEfnESLoQ.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.p,{children:\"This cli file has a function named run and in there, it calls a series of functions:\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" async\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" run\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"_opts\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" IOpts\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  checkNodeVersion\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  checkLocal\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  setNodeTitle\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  setNoDeprecation\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"();\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  ...\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"checkNodeVersion\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"checkLocal\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"setNodeTitle\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"setNoDepreciation\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"We are interested in \",(0,n.jsx)(e.a,{href:\"https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17\",children:\"checkNodeVersion\"}),\"()\"]}),`\n`,(0,n.jsx)(e.h1,{id:\"checknodeversion\",children:(0,n.jsx)(e.strong,{children:\"checkNodeVersion\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"checkNodeVersion is defined in \",(0,n.jsx)(e.a,{href:\"https://github.com/umijs/father/blob/master/src/cli/node.ts#L6\",children:\"cli/node.ts\"})]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" checkVersion\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" v \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" parseInt\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"process\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"version\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"slice\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(1));\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  if\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"v \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" MIN_NODE_VERSION \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"||\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" v \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 15\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ||\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" v \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 17)\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"    logger\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"error\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      `Your node version ${\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"v\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"} is not supported, please upgrade to ${\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"MIN_NODE_VERSION\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"} or above except 15 or 17.`\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    );\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"    process\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"exit\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(1);\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  }\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can get the current node version using this method \\u2014 \",(0,n.jsx)(e.code,{children:\"process.version.slice(1)\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"In this function, there\\u2019s a side-effect. process exits if the node version does not meet the criteria defined in the if block.\"}),`\n`,(0,n.jsx)(e.p,{children:\"logger.error logs the error message when the node version is not supported.\"}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:(0,n.jsxs)(e.strong,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h1,{id:\"references\",children:(0,n.jsx)(e.strong,{children:\"References:\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/umijs/father/blob/master/src/cli/node.ts#L6\",children:\"https://github.com/umijs/father/blob/master/src/cli/node.ts#L6\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17\",children:\"https://github.com/umijs/father/blob/master/src/cli/cli.ts#L17\"})}),`\n`]}),`\n`]})]})}function d(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,{...r,children:(0,n.jsx)(h,{...r})}):h(r)}return N(v);})();\n;return Component;"
  },
  "_id": "blog/how-to-check-nodeversion.mdx",
  "_raw": {
    "sourceFilePath": "blog/how-to-check-nodeversion.mdx",
    "sourceFileName": "how-to-check-nodeversion.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/how-to-check-nodeversion"
  },
  "type": "Doc",
  "slug": "/blog/how-to-check-nodeversion",
  "slugAsParams": "how-to-check-nodeversion"
}