{
  "title": "setState in Zustand source code.\r",
  "published": false,
  "featured": false,
  "component": false,
  "toc": true,
  "body": {
    "raw": "\r\nIn this article, I will provide a review on how setState in Zustand’s source code is written/works. This concept leverages closures in JavaScript and arrow functions.\r\n\r\n![](https://cdn-images-1.medium.com/max/1000/1*j06fhTrBgMVu_tv3D_lTLw.png)\r\n\r\n[StoreApi](https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L9) type is straight forward.\r\n\r\n```javascript\r\nexport interface StoreApi<T> {\r\n  setState: SetStateInternal<T>\r\n  getState: () => T\r\n  getInitialState: () => T\r\n  subscribe: (listener: (state: T, prevState: T) => void) => () => void\r\n}\r\n```\r\n\r\nsetState accepts two parameters\r\n\r\n1. partial \r\n    \r\n2. replace\r\n    \r\n\r\nLet’s perform an experiment using the example demo app provided in theZustand repo.\r\n\r\nI added some console statements in the dist to see what’s in partial and replace.\r\n\r\n![](https://cdn-images-1.medium.com/max/1000/1*8MHKhUDAlHQKCh38g_3iXA.png)\r\n\r\nAnd this is what the values are when you update the count in the demo example.\r\n\r\n![](https://cdn-images-1.medium.com/max/1000/1*1l8VM-IDSniIQTEPurunSQ.png)\r\n\r\nSince partial is a function here, \r\n\r\n```javascript\r\nconst nextState = typeof partial === \"function\" ? partial(state) : partial;\r\n```\r\n\r\nIf you look closely, state is initialised when you createStore and is outside the setState function. Does that ring a bell? Refer to [Closures in Javascript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures).\r\n\r\n`partial` is an [arrow function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions)\r\n\r\n```javascript\r\n(state)=>({\r\n    count: state.count + 1\r\n})\r\n```\r\n\r\nThe beauty is that you can call these functions with a parameter since it returns a function, that is why we have `partial(state)` and state is outside the setState. setState has access to this state variable, thanks to closures in JavaScript.\r\n\r\nYou can run the below code snippet in a browser console and it logs what you sent as a parameter.\r\n\r\n```javascript\r\n(a => console.log(a))(\"test\")\r\n// Output: test\r\n```\r\n\r\nI wrote detailed articles about Object.is and Object.assign usage. Since replace is null,\r\n\r\n```javascript\r\nif (!Object.is(nextState, state)) {\r\n  const previousState = state\r\n  state =\r\n    (replace ?? (typeof nextState !== 'object' || nextState === null))\r\n      ? (nextState as TState)\r\n      : Object.assign({}, state, nextState)\r\n  listeners.forEach((listener) => listener(state, previousState))\r\n}\r\n```\r\n\r\nState is updated using Object.assign. We will look at an advanced use case where replace is not null and understand how setState behaves in the future articles.\r\n\r\n# **About me:**\r\n\r\nHey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\r\n\r\nI am open to work on interesting projects. Send me an email at ramu.narasinga@gmail.com\r\n\r\nMy Github — [https://github.com/ramu-narasinga](https://github.com/ramu-narasinga)\r\n\r\nMy website — [https://ramunarasinga.com](https://ramunarasinga.com/)\r\n\r\nMy Youtube channel — [https://www.youtube.com/@thinkthroo](https://www.youtube.com/@thinkthroo)\r\n\r\nLearning platform — [https://thinkthroo.com](https://thinkthroo.com/)\r\n\r\nCodebase Architecture — [https://app.thinkthroo.com/architecture](https://app.thinkthroo.com/architecture)\r\n\r\nBest practices — [https://app.thinkthroo.com/best-practices](https://app.thinkthroo.com/best-practices)\r\n\r\nProduction-grade projects — [https://app.thinkthroo.com/production-grade-projects](https://app.thinkthroo.com/production-grade-projects)\r\n\r\n### References:\r\n\r\n1. [https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L64](https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L64)\r\n    \r\n2. [https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L9](https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L9)\r\n    \r\n3. [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)\r\n    \r\n4. [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow\\_functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions)\r\n",
    "code": "var Component=(()=>{var d=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),f=(l,e)=>{for(var t in e)s(l,t,{get:e[t],enumerable:!0})},c=(l,e,t,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!u.call(l,r)&&r!==t&&s(l,r,{get:()=>e[r],enumerable:!(a=p(e,r))||a.enumerable});return l};var b=(l,e,t)=>(t=l!=null?d(m(l)):{},c(e||!l||!l.__esModule?s(t,\"default\",{value:l,enumerable:!0}):t,l)),v=l=>c(s({},\"__esModule\",{value:!0}),l);var i=g((x,o)=>{o.exports=_jsx_runtime});var w={};f(w,{default:()=>h,frontmatter:()=>S});var n=b(i()),S={title:\"setState in Zustand source\\xA0code.\"};function F(l){let e={a:\"a\",code:\"code\",div:\"div\",h1:\"h1\",h3:\"h3\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...l.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"In this article, I will provide a review on how setState in Zustand\\u2019s source code is written/works. This concept leverages closures in JavaScript and arrow functions.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/1000/1*j06fhTrBgMVu_tv3D_lTLw.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L9\",children:\"StoreApi\"}),\" type is straight forward.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" interface\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" StoreApi\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"T\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  setState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" SetStateInternal\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"T\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"  getState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" T\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"  getInitialState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" T\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"  subscribe\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\"listener\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" T\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" prevState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" T\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" void\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" void\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"setState accepts two parameters\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"partial\\xA0\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"replace\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Let\\u2019s perform an experiment using the example demo app provided in theZustand repo.\"}),`\n`,(0,n.jsx)(e.p,{children:\"I added some console statements in the dist to see what\\u2019s in partial and replace.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/1000/1*8MHKhUDAlHQKCh38g_3iXA.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.p,{children:\"And this is what the values are when you update the count in the demo example.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://cdn-images-1.medium.com/max/1000/1*1l8VM-IDSniIQTEPurunSQ.png\",alt:\"\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Since partial is a function here,\\xA0\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" nextState \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" typeof\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" partial \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:' \"function\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ?\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" partial\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" :\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" partial\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\";\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you look closely, state is initialised when you createStore and is outside the setState function. Does that ring a bell? Refer to \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\",children:\"Closures in Javascript\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"partial\"}),\" is an \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\",children:\"arrow function\"})]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")=>({\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"    count\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" state\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"count \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"+\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 1\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"})\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The beauty is that you can call these functions with a parameter since it returns a function, that is why we have \",(0,n.jsx)(e.code,{children:\"partial(state)\"}),\" and state is outside the setState. setState has access to this state variable, thanks to closures in JavaScript.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"You can run the below code snippet in a browser console and it logs what you sent as a parameter.\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"a \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" console\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"log\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"a\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:'\"test\"'}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"//\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF4\"},children:\" Output: test\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"I wrote detailed articles about Object.is and Object.assign usage. Since replace is null,\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"if\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (!\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"Object\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"is\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"nextState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" state\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" previousState \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" state\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  state \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"=\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"    (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"replace \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"??\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (typeof\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" nextState \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"!==\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" 'object'\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" ||\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" nextState \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"===\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" null))\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      ?\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"nextState \"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"as\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\",fontWeight:\"bold\"},children:\" TState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"      :\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" Object\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"assign\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"({},\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" state\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" nextState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"  listeners\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"forEach\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"((\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"listener\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" listener\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\"state\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF\"},children:\" previousState\"}),(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"))\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#FFF8\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"State is updated using Object.assign. We will look at an advanced use case where replace is not null and understand how setState behaves in the future articles.\"}),`\n`,(0,n.jsx)(e.h1,{id:\"about-me\",children:(0,n.jsx)(e.strong,{children:\"About me:\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Hey, my name is Ramu Narasinga. I study large open-source projects and create content about their codebase architecture and best practices, sharing it through articles, videos.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"I am open to work on interesting projects. Send me an email at \",(0,n.jsx)(e.a,{href:\"mailto:ramu.narasinga@gmail.com\",children:\"ramu.narasinga@gmail.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Github \\u2014 \",(0,n.jsx)(e.a,{href:\"https://github.com/ramu-narasinga\",children:\"https://github.com/ramu-narasinga\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My website \\u2014 \",(0,n.jsx)(e.a,{href:\"https://ramunarasinga.com/\",children:\"https://ramunarasinga.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"My Youtube channel \\u2014 \",(0,n.jsx)(e.a,{href:\"https://www.youtube.com/@thinkthroo\",children:\"https://www.youtube.com/@thinkthroo\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Learning platform \\u2014 \",(0,n.jsx)(e.a,{href:\"https://thinkthroo.com/\",children:\"https://thinkthroo.com\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Codebase Architecture \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/architecture\",children:\"https://app.thinkthroo.com/architecture\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Best practices \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/best-practices\",children:\"https://app.thinkthroo.com/best-practices\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Production-grade projects \\u2014 \",(0,n.jsx)(e.a,{href:\"https://app.thinkthroo.com/production-grade-projects\",children:\"https://app.thinkthroo.com/production-grade-projects\"})]}),`\n`,(0,n.jsx)(e.h3,{id:\"references\",children:\"References:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L64\",children:\"https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L64\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L9\",children:\"https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L9\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\",children:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\",children:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\"})}),`\n`]}),`\n`]})]})}function h(l={}){let{wrapper:e}=l.components||{};return e?(0,n.jsx)(e,{...l,children:(0,n.jsx)(F,{...l})}):F(l)}return v(w);})();\n;return Component;"
  },
  "_id": "blog/setState-in-zustand.mdx",
  "_raw": {
    "sourceFilePath": "blog/setState-in-zustand.mdx",
    "sourceFileName": "setState-in-zustand.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/setState-in-zustand"
  },
  "type": "Doc",
  "slug": "/blog/setState-in-zustand",
  "slugAsParams": "setState-in-zustand"
}